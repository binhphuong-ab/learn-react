# REACT MASTERY BLUEPRINT: T·ª™ T∆Ø DUY OBJECT ƒê·∫æN KI·∫æN TR√öC ·ª®NG D·ª§NG

## GI·ªöI THI·ªÜU

T√†i li·ªáu n√†y ƒë∆∞·ª£c thi·∫øt k·∫ø d·ª±a tr√™n tri·∫øt l√Ω: **"React kh√¥ng ph·∫£i l√† ma thu·∫≠t, React l√† C·∫•u tr√∫c d·ªØ li·ªáu v√† H√†m"**. Ch∆∞∆°ng tr√¨nh t·∫≠p trung v√†o vi·ªác hi·ªÉu s√¢u b·∫£n ch·∫•t (Deep Dive) thay v√¨ ch·ªâ h·ªçc c√∫ ph√°p b·ªÅ m·∫∑t.

## PH·∫¶N 1: L·ªò TR√åNH H·ªåC T·∫¨P CHI TI·∫æT (SYLLABUS)

### Giai ƒëo·∫°n 1: B·∫£n ch·∫•t c·ªët l√µi (The Core & Mental Model)

_M·ª•c ti√™u: Hi·ªÉu nh·ªØng g√¨ x·∫£y ra "d∆∞·ªõi n·∫Øp capo" tr∆∞·ªõc khi React v·∫Ω l√™n m√†n h√¨nh._

1. **React Element: Gi·∫£i ph·∫´u "T·∫ø b√†o" c·ªßa React**
    - 1.1. ƒê·ªãnh nghƒ©a l·∫°i
    - 1.2. C·∫•u tr√∫c gi·∫£i ph·∫´u (Anatomy)
2. **Component: C√°i m√°y in Object**
    - 2.1. √în t·∫≠p: C√∫ ph√°p h√†m chu·∫©n (Standard Function Syntax)
    - 2.2. B·∫£n ch·∫•t
    - 2.3. Ph√¢n lo·∫°i `type`
3. **Props & Children: C∆° ch·∫ø truy·ªÅn t·∫£i**
    - 3.1. Props l√† b·∫•t bi·∫øn (Read-only)
    - 3.2. Children: L·ªó h·ªïng kh√¥ng gian
4. **B√†i t·∫≠p th·ª±c h√†nh (Module 1)**

### Giai ƒëo·∫°n 2: S·ª± s·ªëng c·ªßa ·ª®ng d·ª•ng (State & Interactivity)

_M·ª•c ti√™u: Bi·∫øn c√°c Object tƒ©nh th√†nh giao di·ªán ƒë·ªông._

1. **T·∫°i sao bi·∫øn th∆∞·ªùng kh√¥ng ho·∫°t ƒë·ªông?**
2. **Hook `useState`: B·ªô nh·ªõ c·ªßa Component**
    - 2.1. C√∫ ph√°p chu·∫©n
    - 2.2. Mental Model: Snapshot (·∫¢nh ch·ª•p)
    - 2.3. Can you use other data types?
    - 2.4. A Warning on Objects & Arrays
3. **Event Handling: B·∫Øt s·ª± ki·ªán ƒë√∫ng c√°ch**
4. **Rendering Lists: Hi·ªÉn th·ªã m·∫£ng d·ªØ li·ªáu**
    - 4.0. B·∫£n ch·∫•t c·ªët l√µi: Array vs Object
    - 4.1. S·ª≠ d·ª•ng `.map()`
    - 4.2. T·∫°i sao c·∫ßn `key`?
5. **V√≠ d·ª• t·ªïng h·ª£p (Complex Example)**
    - 5.0. B√†i to√°n v√† Code m·∫´u
    - 5.1. Ph√¢n t√≠ch chi ti·∫øt v√≠ d·ª• (Deep Dive)
    - 5.2. Lu·ªìng d·ªØ li·ªáu m·ªôt chi·ªÅu (One-way Data Flow)
    - 5.3. Props Destructuring: Hi·ªÉu s√¢u v·ªÅ Input
    - 5.4. Quy t·∫Øc ƒë·∫∑t t√™n tham s·ªë (Parameter Naming)
    - 5.5. Quy ∆∞·ªõc ƒë·∫∑t t√™n trong React (Naming Conventions)
    - 5.6. T√≥m t·∫Øt: 4 Tr·ª• c·ªôt React trong v√≠ d·ª•
6. **B√†i t·∫≠p th·ª±c h√†nh (Module 2)**

### Giai ƒëo·∫°n 3: K·∫øt n·ªëi th·∫ø gi·ªõi b√™n ngo√†i (Side Effects)

_M·ª•c ti√™u: Tho√°t kh·ªèi "h·ªôp k√≠n" c·ªßa React ƒë·ªÉ t∆∞∆°ng t√°c v·ªõi API, Browser._

1. **Pure Function vs Side Effects**
    - 1.1. Pure Function (H√†m thu·∫ßn khi·∫øt) - Ti√™u chu·∫©n v√†ng
    - 1.2. Side Effects (T√°c d·ª•ng ph·ª•) - Nh·ªØng k·∫ª ph√° bƒ©nh
2. **Hook `useEffect`: N∆°i tr√∫ ·∫©n c·ªßa Side Effects**
    - 2.1. Logic ho·∫°t ƒë·ªông
3. **Dependency Array: C√°i phanh c·ªßa useEffect**
4. **Cleanup Function: D·ªçn d·∫πp chi·∫øn tr∆∞·ªùng**
5. **B√†i t·∫≠p th·ª±c h√†nh (Module 3)**

### Giai ƒëo·∫°n 4: Ki·∫øn tr√∫c v√† Lu·ªìng d·ªØ li·ªáu (Architecture)

_M·ª•c ti√™u: T·ªï ch·ª©c code cho ·ª©ng d·ª•ng l·ªõn, Clean Code._

1. **Lifting State Up: ƒê∆∞a tr·∫°ng th√°i l√™n cao**
2. **Context API: ƒê∆∞·ªùng h·∫ßm xuy√™n kh√¥ng**
3. **Custom Hooks: V≈© kh√≠ c·ªßa chuy√™n gia**
4. **B√†i t·∫≠p th·ª±c h√†nh (Module 4)**

### Giai ƒëo·∫°n 5: Hi·ªáu nƒÉng & H·ªá sinh th√°i (Advanced)

1. **Performance: Ngh·ªá thu·∫≠t c·ªßa vi·ªác "L∆∞·ªùi bi·∫øng"**
    - 1.1. React.memo: Chi·∫øc khi√™n b·∫£o v·ªá
    - 1.2. useMemo & useCallback: B·ªô nh·ªõ ƒë·ªám (Cache)
2. **Forms: Giao ti·∫øp v·ªõi ng∆∞·ªùi d√πng**
    - 2.1. Controlled Component (Khuy√™n d√πng)
    - 2.2. Uncontrolled Component
3. **Routing: ·∫¢o thu·∫≠t chuy·ªÉn trang (SPA)**
    

## PH·∫¶N 2: T√ÄI LI·ªÜU CHI TI·∫æT - MODULE 1: B·∫¢N CH·∫§T C·ª¶A ELEMENT

### 1. React Element: Gi·∫£i ph·∫´u "T·∫ø b√†o" c·ªßa React

#### 1.1. ƒê·ªãnh nghƒ©a l·∫°i

React Element kh√¥ng ph·∫£i l√† m·ªôt node HTML th·∫≠t tr√™n tr√¨nh duy·ªát. N√≥ l√† m·ªôt **Plain JavaScript Object** (Object thu·∫ßn t√∫y) m√¥ t·∫£ giao di·ªán.

> **Mental Model:** H√£y coi Element l√† m·ªôt "B·∫£n thi·∫øt k·∫ø" ho·∫∑c m·ªôt "T·ªù order m√≥n ƒÉn". B·∫°n ƒë∆∞a t·ªù order n√†y cho React (ƒë·∫ßu b·∫øp), React s·∫Ω l√†m ra m√≥n ƒÉn th·∫≠t (DOM Node).

#### 1.2. C·∫•u tr√∫c gi·∫£i ph·∫´u (Anatomy)

M·ªôt Element Object ti√™u chu·∫©n ƒë∆∞·ª£c React t·∫°o ra s·∫Ω c√≥ d·∫°ng:

```javascript
const element = {
  // 1. Lo·∫°i danh t√≠nh (Identity)
  type: 'div', // Ho·∫∑c l√† function component: type: MyComponent
  
  // 2. T√∫i d·ªØ li·ªáu (Data bag)
  props: {
    id: 'container',
    className: 'wrapper',
    style: { color: 'red' }, // Style lu√¥n l√† object (L∆∞u √Ω: property d√πng camelCase, v√≠ d·ª• `backgroundColor` thay v√¨ `background-color`)
    
    // 3. N·ªôi dung b√™n trong (Nesting)
    children: [
        // Ch·ª©a c√°c Element Object con kh√°c
        { type: 'span', props: { children: 'Hello' } } 
    ]
  },
  
  // 4. C√°c ƒë·ªãnh danh ƒë·∫∑c bi·ªát (S·∫Ω h·ªçc ·ªü Module 2)
  key: null,
  ref: null
};
```

### 2. Component: C√°i m√°y in Object

#### 2.1. √în t·∫≠p: C√∫ ph√°p h√†m chu·∫©n (Standard Function Syntax)

C√∫ ph√°p chung cho m·ªôt h√†m chu·∫©n trong JavaScript (v√† React) tu√¢n theo m·∫´u sau:

```javascript
function functionName(parameters) {
  // Th√¢n h√†m (Body)
  // ... th·ª±c hi·ªán c√¥ng vi·ªác ...
  
  return value; // K·∫øt qu·∫£ tr·∫£ v·ªÅ
}
```

Gi·∫£i th√≠ch c√°c th√†nh ph·∫ßn:

1. **`function`**: T·ª´ kh√≥a b√°o hi·ªáu "T√¥i s·∫Øp ƒë·ªãnh nghƒ©a m·ªôt h√†nh ƒë·ªông m·ªõi."
2. **`functionName`**: T√™n b·∫°n ƒë·∫∑t cho h√†m (v√≠ d·ª•: `calculateTotal`, `handleClick`).
3. **`(parameters)`**: C√°c ƒë·∫ßu v√†o (inputs) c·∫ßn thi·∫øt ƒë·ªÉ h√†m l√†m vi·ªác. C√≥ th·ªÉ ƒë·ªÉ tr·ªëng `()` n·∫øu kh√¥ng c·∫ßn ƒë·∫ßu v√†o.
4. **`{ ... }`**: "Th√¢n h√†m" hay "kh·ªëi l·ªánh". M·ªçi logic code ƒë·ªÅu n·∫±m trong c·∫∑p ngo·∫∑c nh·ªçn n√†y.
5. **`return`**: T·ª´ kh√≥a ƒë·ªÉ d·ª´ng h√†m v√† g·ª≠i k·∫øt qu·∫£ v·ªÅ n∆°i ƒë√£ g·ªçi n√≥.

**V√≠ d·ª• 1: H√†m c√≥ ƒë·∫ßu v√†o v√† ƒë·∫ßu ra**

M·ªôt c·ªó m√°y nh·∫≠n nguy√™n li·ªáu v√† tr·∫£ v·ªÅ m·ªôt chi·∫øc b√°nh.

```javascript
// Input: m·ªôt s·ªë (x)
// Output: tr·∫£ v·ªÅ m·ªôt s·ªë
function double(x) {
  // 1. Th·ª±c hi·ªán c√¥ng vi·ªác (Do some work)
  console.log("ƒêang t√≠nh to√°n nh√¢n ƒë√¥i cho s·ªë: " + x);
  let result = x * 2;

  // 2. Tr·∫£ v·ªÅ k·∫øt qu·∫£ (Return result)
  return result;
}

// S·ª≠ d·ª•ng:
let result = double(5); // result tr·ªü th√†nh 10
```

**V√≠ d·ª• 2: H√†m kh√¥ng c√≥ ƒë·∫ßu v√†o (Tham s·ªë r·ªóng)**

M·ªôt c·ªó m√°y ch·ªâ ƒë∆°n gi·∫£n l√† cho b·∫°n bi·∫øt th·ªùi gian.

```javascript
// Input: Kh√¥ng
// Output: tr·∫£ v·ªÅ chu·ªói
function sayHello() {
  return "Hello World!";
}
```

**V√≠ d·ª• 3: H√†m kh√¥ng c√≥ gi√° tr·ªã tr·∫£ v·ªÅ (Void)**

M·ªôt c·ªó m√°y b·∫≠t ƒë√®n l√™n nh∆∞ng kh√¥ng ƒë∆∞a l·∫°i cho b·∫°n th·ª© g√¨.

```javascript
// Input: Kh√¥ng
// Output: Kh√¥ng (void)
function turnOnLight() {
  console.log("Light is on");
  // Kh√¥ng c√≥ t·ª´ kh√≥a return ·ªü ƒë√¢y ng·∫ßm hi·ªÉu l√† tr·∫£ v·ªÅ 'undefined'
}
```

#### 2.2. B·∫£n ch·∫•t

Component hi·ªán ƒë·∫°i l√† m·ªôt **H√†m (Function)** b·∫Øt bu·ªôc c√≥ t√™n b·∫Øt ƒë·∫ßu b·∫±ng **ch·ªØ c√°i in hoa** (v√≠ d·ª•: `UserCard`).

- **Input:** Nh·∫≠n v√†o m·ªôt object t√™n l√† `props`.
    
- **Process:** X·ª≠ l√Ω logic, t√≠nh to√°n.
    
- **Output:** Tr·∫£ v·ªÅ m·ªôt Element Object (th∆∞·ªùng vi·∫øt d∆∞·ªõi d·∫°ng JSX).
    

#### 2.3. Ph√¢n lo·∫°i `type`

React d·ª±a v√†o thu·ªôc t√≠nh `type` trong Element Object ƒë·ªÉ quy·∫øt ƒë·ªãnh h√†nh ƒë·ªông:

| **Lo·∫°i type** | **Gi√° tr·ªã**                    | **H√†nh ƒë·ªông c·ªßa React**                                                                                             |
| ------------- | ------------------------------ | ------------------------------------------------------------------------------------------------------------------- |
| **DOM Tag**   | Chu·ªói String (`'div'`, `'h1'`) | **V·∫Ω ngay:** T·∫°o DOM Node t∆∞∆°ng ·ª©ng tr√™n tr√¨nh duy·ªát.                                                               |
| **Component** | H√†m Function (`UserCard`)      | **H·ªèi ti·∫øp:** G·ªçi h√†m `UserCard(props)` ƒë·ªÉ xem b√™n trong n√≥ tr·∫£ v·ªÅ c√°i g√¨. Ti·∫øp t·ª•c ƒë·ªá quy ƒë·∫øn khi ƒë·∫°t ƒë·∫øn DOM Tag. |

### 3. Props & Children: C∆° ch·∫ø truy·ªÅn t·∫£i

#### 3.1. Props l√† b·∫•t bi·∫øn (Read-only)

M·ªôt nguy√™n t·∫Øc v√†ng: **Component kh√¥ng bao gi·ªù ƒë∆∞·ª£c s·ª≠a ƒë·ªïi `props` c·ªßa ch√≠nh n√≥.** `props` l√† d·ªØ li·ªáu t·ª´ "S·∫øp" (Component cha) ƒë∆∞a xu·ªëng. "Nh√¢n vi√™n" (Component con) ch·ªâ ƒë∆∞·ª£c d√πng, kh√¥ng ƒë∆∞·ª£c s·ª≠a.

#### 3.2. Children: L·ªó h·ªïng kh√¥ng gian

`children` l√† m·ªôt prop ƒë·∫∑c bi·ªát gi√∫p t·∫°o ra c√°c Component d·∫°ng **Container** (H·ªôp ch·ª©a).

**Best Practice:** S·ª≠ d·ª•ng `children` ƒë·ªÉ t·ªëi ∆∞u h√≥a vi·ªác t√°i s·ª≠ d·ª•ng layout.

**V√≠ d·ª• Code (T∆∞ duy Best Practice):**

```jsx
// 1. T·∫°o c√°i Khung (Container)
// Component n√†y kh√¥ng quan t√¢m n·ªôi dung b√™n trong l√† g√¨, ch·ªâ lo c√°i v·ªè.
const Card = ({ children, theme }) => { // Destructuring props tr·ª±c ti·∫øp
  const style = theme === 'dark' ? { background: '#333', color: '#fff' } : { background: '#fff' };
  return (
    <div className="card-shadow" style={style}>
      {children} {/* N∆°i n·ªôi dung ƒë∆∞·ª£c b∆°m v√†o */}
    </div>
  );
};

// 2. S·ª≠ d·ª•ng (Implementation)
function App() {
  return (
    <main>
      {/* T√°i s·ª≠ d·ª•ng l·∫ßn 1: Ch·ª©a ·∫£nh v√† text */}
      <Card theme="light">
         <img src="avatar.png" />
         <h3>User Profile</h3>
      </Card>

      {/* T√°i s·ª≠ d·ª•ng l·∫ßn 2: Ch·ª©a form */}
      <Card theme="dark">
         <h3>Login</h3>
         <input type="text" />
      </Card>
    </main>
  );
}
```

### 4. B√†i t·∫≠p th·ª±c h√†nh (Module 1)

**Y√™u c·∫ßu:** Kh√¥ng d√πng JSX, h√£y d√πng `React.createElement` (ho·∫∑c vi·∫øt object literal gi·∫£ l·∫≠p) ƒë·ªÉ t·∫°o ra c·∫•u tr√∫c sau. B√†i t·∫≠p n√†y gi√∫p n√£o b·ªô kh·∫Øc ghi c·∫•u tr√∫c Object.

**HTML m·ª•c ti√™u:**

```html
<div id="app">
  <h1 class="title">My App</h1>
  <button onclick="alert('hi')">Click me</button>
</div>
```

**L·ªùi gi·∫£i (T∆∞ duy Object):**

```javascript
const appElement = {
  type: 'div',
  props: {
    id: 'app',
    children: [
      {
        type: 'h1',
        props: { className: 'title', children: 'My App' }
      },
      {
        type: 'button',
        props: { 
            onClick: () => alert('hi'), // Ch√∫ √Ω: Event trong React d√πng camelCase (onClick) kh√°c v·ªõi HTML (onclick) 
            children: 'Click me' 
        }
      }
    ]
  }
};
```

## PH·∫¶N 3: T√ÄI LI·ªÜU CHI TI·∫æT - MODULE 2: STATE V√Ä S·ª∞ T∆Ø∆†NG T√ÅC (INTERACTIVITY)

### 1. T·∫°i sao bi·∫øn th∆∞·ªùng kh√¥ng ho·∫°t ƒë·ªông?

H√£y b·∫Øt ƒë·∫ßu b·∫±ng m·ªôt sai l·∫ßm kinh ƒëi·ªÉn c·ªßa ng∆∞·ªùi m·ªõi h·ªçc. Gi·∫£ s·ª≠ ta mu·ªën l√†m b·ªô ƒë·∫øm s·ªë l·∫ßn click.

**‚ùå C√°ch l√†m sai (T∆∞ duy Javascript th∆∞·ªùng):**

```jsx
function Counter() {
  let count = 0; // Bi·∫øn c·ª•c b·ªô

  function handleClick() {
    count = count + 1;
    console.log(count); // Log ra 1, 2, 3... nh∆∞ng m√†n h√¨nh v·∫´n hi·ªán 0
  }

  return <button onClick={handleClick}>{count}</button>;
}
```

**T·∫°i sao sai?**

1. **Bi·∫øn c·ª•c b·ªô kh√¥ng t·ªìn t·∫°i l√¢u d√†i:** M·ªói khi Component render l·∫°i (ch·∫°y l·∫°i h√†m `Counter`), bi·∫øn `count` l·∫°i ƒë∆∞·ª£c kh·ªüi t·∫°o l·∫°i b·∫±ng 0.
    
2. **React kh√¥ng bi·∫øt:** Vi·ªác thay ƒë·ªïi bi·∫øn `count` kh√¥ng k√≠ch ho·∫°t c∆° ch·∫ø render l·∫°i. React "m√π" tr∆∞·ªõc s·ª± thay ƒë·ªïi n√†y.
    

üëâ **Gi·∫£i ph√°p:** C·∫ßn m·ªôt c∆° ch·∫ø ƒë·ªÉ b√°o hi·ªáu cho React: _"D·ªØ li·ªáu thay ƒë·ªïi r·ªìi, h√£y ch·∫°y l·∫°i h√†m component v√† v·∫Ω l·∫°i giao di·ªán ƒëi!"_ => ƒê√≥ l√† **State**.

### 2. Hook `useState`: B·ªô nh·ªõ c·ªßa Component

`useState` l√† m·ªôt Hook (c√°i m√≥c) gi√∫p Component c√≥ th·ªÉ "ghi nh·ªõ" th√¥ng tin gi·ªØa c√°c l·∫ßn render.

#### 2.1. C√∫ ph√°p chu·∫©n

```javascript
const [state, setState] = useState(initialValue);
```

- **`state`**: Bi·∫øn ch·ª©a gi√° tr·ªã hi·ªán t·∫°i (V√≠ d·ª•: `count` = 0).
    
- **`setState`**: H√†m d√πng ƒë·ªÉ c·∫≠p nh·∫≠t gi√° tr·ªã **V√Ä** k√≠ch ho·∫°t React render l·∫°i.
    
- **`initialValue`**: Gi√° tr·ªã kh·ªüi t·∫°o l·∫ßn ƒë·∫ßu ti√™n.
    

#### 2.2. Mental Model: Snapshot (·∫¢nh ch·ª•p)

ƒê√¢y l√† ph·∫ßn kh√≥ hi·ªÉu nh·∫•t nh∆∞ng quan tr·ªçng nh·∫•t. H√£y kh·∫Øc c·ªët ghi t√¢m c√¢u n√†y:

> **"State updates trigger re-renders." (C·∫≠p nh·∫≠t State s·∫Ω k√≠ch ho·∫°t Render l·∫°i)**

**Quy tr√¨nh di·ªÖn ra:**

1. **L·∫ßn ƒë·∫ßu ti√™n (Mount):**
    
    - React g·ªçi `Counter()`.
        
    - `useState(0)` tr·∫£ v·ªÅ `[0, setCount]`.
        
    - Component tr·∫£ v·ªÅ JSX v·ªõi s·ªë `0`.
        
    - React v·∫Ω s·ªë `0` l√™n m√†n h√¨nh.
        
2. **Ng∆∞·ªùi d√πng b·∫•m n√∫t (Click):**
    
    - H√†m `handleClick` g·ªçi `setCount(1)`.
        
    - React nh·∫≠n t√≠n hi·ªáu: "√Ä, d·ªØ li·ªáu c≈© h·ªèng r·ªìi, c·∫ßn v·∫Ω l·∫°i".
        
3. **L·∫ßn render th·ª© 2 (Re-render):**
    
    - React g·ªçi l·∫°i `Counter()`.
        
    - `useState(0)` l√∫c n√†y c·ª±c th√¥ng minh, n√≥ nh·ªõ gi√° tr·ªã c≈© l√† 1, n√™n tr·∫£ v·ªÅ `[1, setCount]`.
        
    - Component tr·∫£ v·ªÅ JSX v·ªõi s·ªë `1`.
        
    - React c·∫≠p nh·∫≠t s·ªë `1` l√™n m√†n h√¨nh.
        

#### 2.3. Can you use other data types?

When you write `useState(0)`, you are telling React: **"The initial value of this variable is the number `0`."**

Because JavaScript is dynamic, `count` becomes a **Number**.

**Yes!** `useState` can hold **absolutely anything** that JavaScript supports. It is not limited to numbers.

Here are the most common examples you will use:

##### 1. Text (String)

Used for names, input fields, or messages.

```javascript
const [name, setName] = useState("Phuong");
// usage: setName("Gemini")
```

##### 2. True/False (Boolean)

Used for toggles, switches, or showing/hiding things (like "Dark Mode").

```javascript
const [isMenuOpen, setIsMenuOpen] = useState(false);
// usage: setIsMenuOpen(true)
```

##### 3. Lists (Arrays)

Used for storing lists of data (like a list of tasks or products).

```javascript
const [tasks, setTasks] = useState(["Buy milk", "Clean room"]);
// usage: setTasks([...tasks, "New Task"])
```

*Note: We will talk about that `...` syntax later; it's a special way to add items to arrays in React.*

##### 4. Objects

Used when you have related data (like a user profile).

```javascript
const [user, setUser] = useState({ 
  name: "Phuong", 
  device: "iMac M1" 
});
```

##### 5. Nothing (null)

Used when you are waiting for data to load (like waiting for a stock price to download).

```javascript
const [data, setData] = useState(null);
```

#### 2.4. A Warning on Objects & Arrays

Remember our discussion about **"The New Object"**? This is very important for **Arrays** and **Objects**.

If you have a user object, you **cannot** just change one property like this:

```javascript
// ‚ùå WRONG: React won't see this change!
user.name = "New Name"; 
setUser(user); 
```

You must give React a **brand new object** for it to recognize the change:

```javascript
// ‚úÖ RIGHT: Create a new object with the new data
setUser({ 
  name: "New Name", 
  device: "iMac M1" 
});
```

### 3. Event Handling: B·∫Øt s·ª± ki·ªán ƒë√∫ng c√°ch

Trong React Element Object, s·ª± ki·ªán (Event) ch·ªâ l√† m·ªôt property n·∫±m trong `props`.

**Quy t·∫Øc:**

1. T√™n s·ª± ki·ªán d√πng **camelCase** (`onClick`, `onSubmit`, `onMouseEnter`).
    
2. Truy·ªÅn v√†o **H√†m definition** (ƒë·ªãnh nghƒ©a h√†m), kh√¥ng ph·∫£i g·ªçi h√†m ngay l·∫≠p t·ª©c.
    

**‚úÖ ƒê√∫ng:**

```jsx
<button onClick={handleClick}>Click me</button>
```

_(D·ªãch: "React ∆°i, khi n√†o user click th√¨ h√£y g·ªçi h√†m n√†y gi√∫p t√¥i")_

**‚ùå Sai (G·ªçi h√†m ngay l·∫≠p t·ª©c):**

```jsx
<button onClick={handleClick()}>Click me</button>
```

_(D·ªãch: "G·ªçi h√†m n√†y ngay b√¢y gi·ªù ƒëi", k·∫øt qu·∫£ tr·∫£ v·ªÅ c·ªßa h√†m s·∫Ω ƒë∆∞·ª£c g√°n v√†o onClick -> Sai logic v√† c√≥ th·ªÉ g√¢y v√≤ng l·∫∑p v√¥ t·∫≠n)_

#### V√≠ d·ª• m√£ ngu·ªìn ƒë·∫ßy ƒë·ªß (Full Simple Example)

ƒê√¢y l√† code c·ªßa m·ªôt component ho√†n ch·ªânh m√† b·∫°n c√≥ th·ªÉ copy ƒë·ªÉ ch·∫°y th·ª≠:

```jsx
function AlertButton() {
  // Logic x·ª≠ l√Ω s·ª± ki·ªán
  function handleClick() {
    alert("Xin ch√†o! B·∫°n ƒë√£ b·∫Øt s·ª± ki·ªán th√†nh c√¥ng.");
  }

  // JSX tr·∫£ v·ªÅ
  return (
    <button onClick={handleClick}>
      B·∫•m v√†o ƒë√¢y
    </button>
  );
}
```

#### V√≠ d·ª• n√¢ng cao: Custom Button v·ªõi Props & Events

Trong th·ª±c t·∫ø, b·∫°n s·∫Ω th∆∞·ªùng xuy√™n truy·ªÅn h√†m x·ª≠ l√Ω s·ª± ki·ªán t·ª´ Component cha xu·ªëng Component con th√¥ng qua Props.

```jsx
// 1. Component con (Nh·∫≠n props)
// Nhi·ªám v·ª•: Hi·ªÉn th·ªã giao di·ªán & b√°o c√°o l·∫°i khi ƒë∆∞·ª£c click
function CustomButton({ label, onCustomClick }) {
  // label: "Delete", "Save", ...
  // onCustomClick: L√† c√°i h√†m t·ª´ cha truy·ªÅn xu·ªëng
  
  return (
    // N·ªëi d√¢y: S·ª± ki·ªán onClick th·∫≠t c·ªßa browser -> g·ªçi h√†m onCustomClick c·ªßa cha
    <button onClick={onCustomClick} style={{ padding: '10px', margin: '5px' }}>
      {label}
    </button>
  );
}

// 2. Component cha (ƒê·ªãnh nghƒ©a logic)
// Nhi·ªám v·ª•: Quy·∫øt ƒë·ªãnh ƒëi·ªÅu g√¨ x·∫£y ra khi con ƒë∆∞·ª£c click
function App() {
  
  const handleDelete = () => {
    alert("ƒêang x√≥a d·ªØ li·ªáu...");
  };

  const handleSave = () => {
    console.log("ƒê√£ l∆∞u th√†nh c√¥ng!");
  };

  return (
    <div>
      <h1>Event Handling Demo</h1>
      {/* Truy·ªÅn h√†m handleDelete xu·ªëng cho con d√πng */}
      <CustomButton label="X√≥a" onCustomClick={handleDelete} />
      
      {/* T√°i s·ª≠ d·ª•ng: Truy·ªÅn h√†m handleSave xu·ªëng */}
      <CustomButton label="L∆∞u" onCustomClick={handleSave} />
    </div>
  );
}
```

#### Mental Model: C∆° ch·∫ø "Chu√¥ng c·ª≠a" (Waiting vs Running)

H√†m `handleDelete` n√†y **kh√¥ng h·ªÅ ch·∫°y li√™n t·ª•c**. N√≥ ƒëang ·ªü tr·∫°ng th√°i **"Ch·ªù l·ªánh" (Waiting)**.

H√£y t∆∞·ªüng t∆∞·ª£ng `handleDelete` gi·ªëng nh∆∞ m·ªôt c√°i **Chu√¥ng c·ª≠a**:

1.  **D√≤ng code `const handleDelete = ...`**: Gi·ªëng nh∆∞ vi·ªác b·∫°n l·∫Øp c√°i chu√¥ng l√™n t∆∞·ªùng. B·∫°n ch·ªâ l·∫Øp n√≥ ·ªü ƒë√≥ th√¥i, l√∫c n√†y n√≥ **im l·∫∑ng**.
2.  **D√≤ng code `<CustomButton ... />`**: Gi·ªëng nh∆∞ vi·ªác b·∫°n d√°n t·ªù gi·∫•y "H√£y b·∫•m v√†o ƒë√¢y" l√™n c√°i chu√¥ng.
3.  **H√†nh ƒë·ªông Click**: Ch·ªâ khi ng√≥n tay ng∆∞·ªùi d√πng **ch·∫°m v√†o n√∫t**, c√°i chu√¥ng m·ªõi k√™u (h√†m `alert` m·ªõi ch·∫°y).

**Quy tr√¨nh th·ª±c t·∫ø di·ªÖn ra nh∆∞ sau:**

1.  **Kh·ªüi t·∫°o (Definition):** Khi `App` (Component cha) hi·ªán l√™n m√†n h√¨nh, n√≥ t·∫°o ra h√†m `handleDelete` v√† gi·ªØ n√≥ trong b·ªô nh·ªõ. L√∫c n√†y h√†m **ch∆∞a ch·∫°y**.
2.  **Truy·ªÅn ƒëi (Passing Props):** N√≥ ƒë∆∞a h√†m n√†y cho `CustomButton` (Component con) th√¥ng qua prop `onCustomClick`.
3.  **G·∫Øn s·ª± ki·ªán (Wiring):** `CustomButton` g·∫Øn h√†m n√†y v√†o s·ª± ki·ªán `onClick` c·ªßa th·∫ª `<button>`.
4.  **K√≠ch ho·∫°t (Trigger):** Ng∆∞·ªùi d√πng b·∫•m chu·ªôt -> Tr√¨nh duy·ªát b√°o "C√≥ click r·ªìi!" -> H√†m `handleDelete` m·ªõi ƒë∆∞·ª£c g·ªçi -> **Alert hi·ªán ra**.

#### Khi n√†o th√¨ m·ªôt h√†m ch·∫°y li√™n t·ª•c? (L·ªói th∆∞·ªùng g·∫∑p)

H√†m ch·ªâ ch·∫°y li√™n t·ª•c (ho·∫∑c t·ª± ƒë·ªông ch·∫°y ngay l·∫≠p t·ª©c) n·∫øu b·∫°n m·∫Øc l·ªói vi·∫øt sai nh∆∞ sau:

**‚ùå Sai (Ch·∫°y ngay khi m·ªü web):**

```jsx
// N·∫øu b·∫°n vi·∫øt th√™m d·∫•u () ·ªü cu·ªëi
<button onClick={handleDelete()} /> 
// handleDelete() -> D·∫•u () c√≥ nghƒ©a l√† "Ch·∫°y ngay ƒëi!"
// K·∫øt qu·∫£: Alert hi·ªán l√™n ngay khi trang web v·ª´a t·∫£i xong, kh√¥ng c·∫ßn b·∫•m.
```

---

##### G√≥c chuy√™n gia: 3 Tr·∫°ng th√°i c·ªßa h√†m (Function)

D∆∞·ªõi ƒë√¢y l√† b·∫£ng t·ªïng k·∫øt to√†n di·ªán v·ªÅ 3 tr·∫°ng th√°i c·ªßa h√†m (Function) trong React/JavaScript. ƒê√¢y l√† ki·∫øn th·ª©c c·ªët l√µi ƒë·ªÉ b·∫°n l√†m ch·ªß vi·ªác x·ª≠ l√Ω s·ª± ki·ªán.

Gi·∫£ s·ª≠ ch√∫ng ta c√≥ m·ªôt h√†m g·ªëc:

```javascript
function nauAn(monAn) {
  console.log("ƒêang n·∫•u m√≥n: " + monAn);
}
```

##### 1. EXECUTION (Th·ª±c thi ngay)

* **C√∫ ph√°p:** `nauAn('Ph·ªü')` (C√≥ d·∫•u ngo·∫∑c `()`).
* **√ù nghƒ©a:** **"CH·∫†Y NGAY ƒêI!"**
* **C∆° ch·∫ø:**
    * Tr√¨nh duy·ªát th·∫•y d√≤ng n√†y -> G·ªçi h√†m ch·∫°y ngay l·∫≠p t·ª©c.
    * Sau khi ch·∫°y xong, n√≥ l·∫•y **k·∫øt qu·∫£ tr·∫£ v·ªÅ** (return value) ƒë·ªÉ g√°n v√†o bi·∫øn. N·∫øu h√†m kh√¥ng return g√¨, k·∫øt qu·∫£ l√† `undefined`.


* **Trong `onClick`:** ƒê√¢y th∆∞·ªùng l√† **L·ªñI SAI**.
    * `onClick={nauAn()}` -> N·∫•u ngay khi m·ªü web -> G√°n `undefined` v√†o n√∫t b·∫•m -> B·∫•m n√∫t kh√¥ng t√°c d·ª•ng.



##### 2. DEFINITION (ƒê·ªãnh nghƒ©a / Khai b√°o m·ªõi)

* **C√∫ ph√°p:** `() => nauAn('Ph·ªü')` (H√†m m≈©i t√™n).
* **√ù nghƒ©a:** **"T·∫†O QUY TR√åNH M·ªöI"**.
* **C∆° ch·∫ø:**
    * B·∫°n ƒëang t·∫°o ra m·ªôt c√°i h·ªôp (h√†m ·∫©n danh) b·ªçc l·∫•y l·ªánh g·ªçi b√™n trong.
    * Tr√¨nh duy·ªát th·∫•y d√≤ng n√†y -> N√≥ ch·ªâ t·∫°o c√°i h·ªôp v√† ƒë·ªÉ ƒë√≥, **ch∆∞a ch·∫°y** ru·ªôt b√™n trong.
    * Ch·ªâ khi n√†o `onClick` ƒë∆∞·ª£c k√≠ch ho·∫°t, n√≥ m·ªõi m·ªü h·ªôp ra v√† ch·∫°y l·ªánh.


* **Trong `onClick`:** D√πng khi c·∫ßn **TRUY·ªÄN THAM S·ªê**.

##### 3. REFERENCE (Tham chi·∫øu / Tr·ªè t·ªõi)

* **C√∫ ph√°p:** `nauAn` (Kh√¥ng c√≥ d·∫•u ngo·∫∑c).
* **√ù nghƒ©a:** **"ƒê∆ØA ƒê·ªäA CH·ªà"**.
* **C∆° ch·∫ø:**
    * B·∫°n kh√¥ng g·ªçi h√†m, c≈©ng kh√¥ng t·∫°o h√†m m·ªõi. B·∫°n ch·ªâ ch·ªâ tay v√†o c√°i h√†m ƒë√£ c√≥ s·∫µn trong b·ªô nh·ªõ.
    * B·∫°n b·∫£o React: "ƒê√¢y l√† ƒë·ªãa ch·ªâ c·ªßa th·ª£ n·∫•u ƒÉn. Khi n√†o c·∫ßn th√¨ g·ªçi n√≥".


* **Trong `onClick`:** C√°ch **T·ªêI ∆ØU NH·∫§T** (n·∫øu kh√¥ng c·∫ßn truy·ªÅn tham s·ªë).

---

##### B·∫£ng so s√°nh t√≥m t·∫Øt

| ƒê·∫∑c ƒëi·ªÉm | **EXECUTION** (Th·ª±c thi) | **DEFINITION** (ƒê·ªãnh nghƒ©a) | **REFERENCE** (Tham chi·∫øu) |
| --- | --- | --- | --- |
| **C√∫ ph√°p** | `handleDelete()` | `() => handleDelete()` | `handleDelete` |
| **H√¨nh ·∫£nh** | Ch√¢m ng√≤i ph√°o n·ªï ngay. | G√≥i ph√°o v√†o h·ªôp qu√†. | ƒê∆∞a t·∫•m b·∫£n ƒë·ªì kho b√°u. |
| **Khi n√†o ch·∫°y?** | **NGAY L·∫¨P T·ª®C** (khi Render). | **KHI CLICK** (S·ª± ki·ªán x·∫£y ra). | **KHI CLICK** (S·ª± ki·ªán x·∫£y ra). |
| **Hi·ªáu nƒÉng** | (Kh√¥ng b√†n v√¨ logic sai). | T·ªën ch√∫t b·ªô nh·ªõ (T·∫°o h√†m m·ªõi m·ªói l·∫ßn render). | **T·ªët nh·∫•t** (D√πng l·∫°i h√†m c≈©). |
| **Truy·ªÅn tham s·ªë** | C√≥ (Nh∆∞ng b·ªã l·ªói ch·∫°y ngay). | **ƒê∆Ø·ª¢C** (C√°ch duy nh·∫•t ƒë·ªÉ truy·ªÅn tham s·ªë an to√†n). | Kh√¥ng (Ch·ªâ nh·∫≠n tham s·ªë m·∫∑c ƒë·ªãnh `event`). |
| **K·∫øt lu·∫≠n** | ‚ùå **SAI** (Tr·ª´ tr∆∞·ªùng h·ª£p ƒë·∫∑c bi·ªát). | ‚úÖ **D√ôNG** khi c·∫ßn tham s·ªë (ID, index...). | ‚úÖ **D√ôNG** cho c√°c n√∫t b·∫•m ƒë∆°n gi·∫£n. |

---

##### V√≠ d·ª• Code th·ª±c t·∫ø

H√£y xem s·ª± kh√°c bi·ªát trong m·ªôt Component:

```javascript
function Menu() {
  
  // H√†m x·ª≠ l√Ω chung
  const order = (food) => {
    alert("B·∫°n ƒë√£ g·ªçi m√≥n: " + food);
  }

  // H√†m ƒë∆°n gi·∫£n kh√¥ng tham s·ªë
  const goHome = () => {
    alert("ƒêi v·ªÅ!");
  }

  return (
    <div>
      {/* TR∆Ø·ªúNG H·ª¢P 1: REFERENCE (Chu·∫©n, g·ªçn g√†ng) */}
      {/* D√πng khi h√†m kh√¥ng c·∫ßn tham s·ªë ri√™ng t·ª´ m√¨nh */}
      <button onClick={goHome}>
        V·ªÅ nh√†
      </button>

      {/* TR∆Ø·ªúNG H·ª¢P 2: DEFINITION (Chu·∫©n, linh ho·∫°t) */}
      {/* D√πng khi B·∫ÆT BU·ªòC ph·∫£i truy·ªÅn tham s·ªë ("Ph·ªü") */}
      <button onClick={() => order("Ph·ªü")}>
        G·ªçi Ph·ªü
      </button>

      {/* TR∆Ø·ªúNG H·ª¢P 3: EXECUTION (L·ªñI !!!) */}
      {/* Alert "C∆°m T·∫•m" hi·ªán l√™n ngay khi F5 trang web */}
      {/* B·∫•m n√∫t n√†y s·∫Ω KH√îNG ch·∫°y g√¨ c·∫£ */}
      <button onClick={order("C∆°m T·∫•m")}>
        G·ªçi C∆°m (L·ªói)
      </button>
    </div>
  );
}
```

##### L·ªùi khuy√™n "b·ªè t√∫i":

1. Vi·∫øt `onClick={tenHam}` tr∆∞·ªõc.
2. N·∫øu th·∫•y b√°o l·ªói thi·∫øu tham s·ªë, ho·∫∑c c·∫ßn truy·ªÅn ID -> S·ª≠a th√†nh `onClick={() => tenHam(id)}`.
3. Tuy·ªát ƒë·ªëi tr√°nh `onClick={tenHam()}`.

**‚úÖ ƒê√∫ng (Ch·ªù click m·ªõi ch·∫°y):**

```jsx
// Kh√¥ng c√≥ d·∫•u ()
<button onClick={handleDelete} />
// handleDelete -> C√≥ nghƒ©a l√† "ƒê√¢y l√† c√°i h√†m, gi·ªØ h·ªô t√¥i, khi n√†o click th√¨ h√£y ch·∫°y n√≥".
```

V√¨ b·∫°n vi·∫øt ƒë√∫ng c√∫ ph√°p (truy·ªÅn t√™n h√†m, kh√¥ng g·ªçi h√†m), n√™n n√≥ **an to√†n** v√† ch·ªâ ch·∫°y khi b·∫°n mu·ªën.

### 4. Rendering Lists: Hi·ªÉn th·ªã m·∫£ng d·ªØ li·ªáu

#### 4.0. B·∫£n ch·∫•t c·ªët l√µi: Array vs Object

> "Array l√† Object v·ªõi t√™n ng·∫ßm ƒë·ªãnh (s·ªë th·ª© t·ª±), c√≤n Object l√† Array v·ªõi t√™n t√πy ch·ªânh."

##### 1. B·∫£n ch·∫•t c·ªët l√µi (Mental Model)

H√£y t∆∞·ªüng t∆∞·ª£ng b·ªô nh·ªõ m√°y t√≠nh l√† m·ªôt t·ªß ƒë·ª±ng ƒë·ªì kh·ªïng l·ªì.

| ƒê·∫∑c ƒëi·ªÉm | **Array (M·∫£ng) `[...]`** | **Object (ƒê·ªëi t∆∞·ª£ng) `{...}`** |
| --- | --- | --- |
| **H√¨nh ·∫£nh** | Gi·ªëng m·ªôt **ƒëo√†n t√†u** c√≥ ƒë√°nh s·ªë toa. | Gi·ªëng m·ªôt **ch√πm ch√¨a kh√≥a** c√≥ d√°n nh√£n. |
| **T√™n (Key)** | **Ng·∫ßm ƒë·ªãnh (Implicit):** M√°y t·ª± ƒë·∫∑t l√† `0, 1, 2, 3...` | **T√πy ch·ªânh (Custom):** B·∫°n t·ª± ƒë·∫∑t l√† `"name", "age", "email"...` |
| **Th·ª© t·ª±** | **Quan tr·ªçng:** Toa 1 lu√¥n ƒë·ª©ng sau toa 0. | **Kh√¥ng quan tr·ªçng:** Ch√¨a kh√≥a "nh√†" hay "xe" l·∫•y c√°i n√†o tr∆∞·ªõc c≈©ng ƒë∆∞·ª£c. |
| **M·ª•c ƒë√≠ch** | D√πng ƒë·ªÉ ch·ª©a **danh s√°ch** c√°c th·ª© gi·ªëng nhau. | D√πng ƒë·ªÉ m√¥ t·∫£ **chi ti·∫øt** v·ªÅ m·ªôt th·ª© c·ª• th·ªÉ. |

##### 2. Chi ti·∫øt v√† Minh h·ªça

###### A. Array (M·∫£ng) - `[...]`

L√† m·ªôt danh s√°ch c√≥ th·ª© t·ª±. B·∫°n truy xu·∫•t d·ªØ li·ªáu b·∫±ng **V·ªã tr√≠** (Index).

* **C·∫•u tr√∫c th·ª±c t·∫ø:**
```javascript
const users = ["An", "B√¨nh", "Chi"];
```

* **C√°ch m√°y t√≠nh "nh√¨n" n√≥ (Under the hood):**
N√≥ th·ª±c ch·∫•t l√† m·ªôt Object v·ªõi key l√† s·ªë nguy√™n:
```javascript
{
  "0": "An",
  "1": "B√¨nh",
  "2": "Chi",
  "length": 3  // Array ƒë∆∞·ª£c "khuy·∫øn m√£i" th√™m thu·ªôc t√≠nh n√†y
}
```

* **Khi n√†o d√πng?** Khi b·∫°n c·∫ßn l∆∞u tr·ªØ m·ªôt t·∫≠p h·ª£p (list) ƒë·ªÉ sau n√†y l·∫∑p qua n√≥ (v√≠ d·ª•: d√πng `.map()` trong React ƒë·ªÉ hi·ªÉn th·ªã danh s√°ch).

###### B. Object (ƒê·ªëi t∆∞·ª£ng) - `{...}`

L√† m·ªôt t·∫≠p h·ª£p c√°c thu·ªôc t√≠nh. B·∫°n truy xu·∫•t d·ªØ li·ªáu b·∫±ng **T√™n nh√£n** (Key).

* **C·∫•u tr√∫c th·ª±c t·∫ø:**
```javascript
const user = {
  name: "An",
  age: 25,
  role: "Admin"
};
```

* **C√°ch truy xu·∫•t:**
B·∫°n kh√¥ng h·ªèi "cho t√¥i c√°i th·ª© nh·∫•t", m√† b·∫°n h·ªèi "cho t√¥i c√°i `name`".
```javascript
console.log(user.name); // "An"
```

* **Khi n√†o d√πng?** Khi b·∫°n c·∫ßn l∆∞u tr·ªØ th√¥ng tin chi ti·∫øt c·ªßa m·ªôt th·ª±c th·ªÉ duy nh·∫•t (v√≠ d·ª•: th√¥ng tin c·ªßa 1 user, th√¥ng tin c·ªßa 1 setting).

##### 3. S·ª± k·∫øt h·ª£p ho√†n h·∫£o (Array of Objects)

Trong th·ª±c t·∫ø l·∫≠p tr√¨nh (ƒë·∫∑c bi·ªát l√† React), ch√∫ng ta hi·∫øm khi d√πng r·ªùi r·∫°c. Ch√∫ng ta th∆∞·ªùng d√πng **M·∫£ng ch·ª©a c√°c ƒê·ªëi t∆∞·ª£ng**.

ƒê√¢y l√† c·∫•u tr√∫c d·ªØ li·ªáu ph·ªï bi·∫øn nh·∫•t (v√≠ d·ª• d·ªØ li·ªáu JSON t·ª´ API tr·∫£ v·ªÅ):

```javascript
const userList = [
  // Ph·∫ßn t·ª≠ 0 (Index 0)
  {
    id: "user_01",   // Custom Key
    name: "An"       // Custom Key
  },
  
  // Ph·∫ßn t·ª≠ 1 (Index 1)
  {
    id: "user_02",
    name: "B√¨nh"
  }
];
```

**T·∫°i sao c·∫•u tr√∫c n√†y l·∫°i m·∫°nh m·∫Ω?**

1. **V·ªè ngo√†i l√† Array:** Gi√∫p b·∫°n d√πng `.map()` ƒë·ªÉ l·∫∑p qua danh s√°ch v√† t·∫°o ra c√°c th·∫ª `<li>` ho·∫∑c `<div>` (nh∆∞ trong ·∫£nh b·∫°n g·ª≠i).
2. **Ru·ªôt b√™n trong l√† Object:** Gi√∫p b·∫°n truy c·∫≠p chi ti·∫øt (`user.name`, `user.id`) ƒë·ªÉ hi·ªÉn th·ªã n·ªôi dung phong ph√∫.
3. **V·∫•n ƒë·ªÅ Reconciliation (React):**
    * React d√πng **V·ªè ngo√†i (Array Index)** ƒë·ªÉ ƒë·∫øm s·ªë l∆∞·ª£ng.
    * Nh∆∞ng React c·∫ßn **Ru·ªôt b√™n trong (Unique ID)** l√†m `key` ƒë·ªÉ ƒë·ªãnh danh ch√≠nh x√°c t·ª´ng ph·∫ßn t·ª≠ khi danh s√°ch thay ƒë·ªïi (nh∆∞ t√¥i ƒë√£ gi·∫£i th√≠ch ·ªü ph·∫ßn tr∆∞·ªõc).


##### T√≥m l·∫°i

* N·∫øu d·ªØ li·ªáu l√† c√¢u tr·∫£ l·ªùi cho c√¢u h·ªèi **"C√°i n√†o?"** (Th·ª© nh·∫•t, th·ª© hai...) -> D√πng **Array**.
* N·∫øu d·ªØ li·ªáu l√† c√¢u tr·∫£ l·ªùi cho c√¢u h·ªèi **"C√°i g√¨?"** (T√™n l√† g√¨, Tu·ªïi l√† bao nhi√™u...) -> D√πng **Object**.

---

Khi `props.children` l√† m·ªôt m·∫£ng c√°c Element, React c·∫ßn m·ªôt c√°ch ƒë·ªÉ ph√¢n bi·ªát ch√∫ng.

#### 4.1. S·ª≠ d·ª•ng `.map()`

Ch√∫ng ta d√πng h√†m `.map()` c·ªßa Javascript ƒë·ªÉ bi·∫øn ƒë·ªïi m·∫£ng d·ªØ li·ªáu th√†nh m·∫£ng Element.

```javascript
const users = ['An', 'B√¨nh', 'Chi'];

// Bi·∫øn ƒë·ªïi: ['An', 'B√¨nh'] -> [<li>An</li>, <li>B√¨nh</li>]
const listItems = users.map(user => <li>{user}</li>);
```

#### 4.2. T·∫°i sao c·∫ßn `key`?

React y√™u c·∫ßu m·ªói ph·∫ßn t·ª≠ trong danh s√°ch ph·∫£i c√≥ props `key` duy nh·∫•t.

```jsx
// ‚úÖ ƒê√∫ng
users.map(user => <li key={user.id}>{user.name}</li>)
```

**T·∫°i sao? (Li√™n quan ƒë·∫øn Reconciliation)** H√£y t∆∞·ªüng t∆∞·ª£ng danh s√°ch: `[A, B, C]`. B·∫°n ch√®n `X` v√†o ƒë·∫ßu: `[X, A, B, C]`.

- **N·∫øu kh√¥ng c√≥ key:** React so s√°nh theo th·ª© t·ª± index.
    
    - V·ªã tr√≠ 0: C≈© l√† A, M·ªõi l√† X -> React x√≥a A, v·∫Ω l·∫°i X (T·ªën k√©m).
        
    - V·ªã tr√≠ 1: C≈© l√† B, M·ªõi l√† A -> React x√≥a B, v·∫Ω l·∫°i A (T·ªën k√©m).
        
    - ... React ph·∫£i s·ª≠a l·∫°i to√†n b·ªô danh s√°ch.
        
- **N·∫øu c√≥ key (V√≠ d·ª• key="A", key="B"):**
    
    - React nh√¨n th·∫•y key="A" v·∫´n c√≤n ƒë√≥, ch·ªâ b·ªã ƒë·∫©y xu·ªëng d∆∞·ªõi.
        
    - React gi·ªØ nguy√™n A, B, C v√† ch·ªâ ch√®n th√™m X v√†o ƒë·∫ßu.
        
    - **Hi·ªáu nƒÉng tƒÉng g·∫•p b·ªôi.**
        

### 5. V√≠ d·ª• t·ªïng h·ª£p (Complex Example)

#### 5.0. B√†i to√°n v√† Code m·∫´u

K·∫øt h·ª£p t·∫•t c·∫£ ki·∫øn th·ª©c: Array of Objects + Props + Event Handling + State.

**B√†i to√°n:** Qu·∫£n l√Ω danh s√°ch s·∫£n ph·∫©m.
1. Hi·ªÉn th·ªã danh s√°ch t·ª´ m·∫£ng object.
2. M·ªói s·∫£n ph·∫©m l√† m·ªôt Component ri√™ng (`ProductItem`).
3. C√≥ n√∫t "X√≥a" ·ªü m·ªói s·∫£n ph·∫©m (Child g·ªçi Parent).

```jsx
// --------------------------------------------------------
// 1. Component Con (ProductItem)
// Nhi·ªám v·ª•: Ch·ªâ lo vi·ªác hi·ªÉn th·ªã UI cho 1 s·∫£n ph·∫©m duy nh·∫•t.
// Kh√¥ng c·∫ßn bi·∫øt danh s√°ch ƒë·∫øn t·ª´ ƒë√¢u, hay x√≥a nh∆∞ th·∫ø n√†o.
// --------------------------------------------------------
const ProductItem = ({ product, onDelete }) => {
  return (
    <div style={{ border: "1px solid #ddd", padding: "10px", margin: "10px 0" }}>
      {/* Hi·ªÉn th·ªã th√¥ng tin chi ti·∫øt t·ª´ Object */}
      <h3>{product.name}</h3>
      <p>Gi√°: ${product.price}</p>
      
      {/* 
        QUAN TR·ªåNG: K·ªπ thu·∫≠t "Truy·ªÅn tham s·ªë an to√†n"
        - N·∫øu vi·∫øt: onClick={onDelete(product.id)} -> SAI (Ch·∫°y ngay l·∫≠p t·ª©c khi render).
        - Ph·∫£i vi·∫øt: onClick={() => onDelete(product.id)} -> ƒê√öNG (T·∫°o h√†m bao, ch·ªù click m·ªõi ch·∫°y).
      */}
      <button onClick={() => onDelete(product.id)} style={{ color: "red" }}>
        X√≥a s·∫£n ph·∫©m
      </button>
    </div>
  );
};

// --------------------------------------------------------
// 2. Component Cha (ProductList)
// Nhi·ªám v·ª•: N·∫Øm gi·ªØ d·ªØ li·ªáu (State) v√† Logic nghi·ªáp v·ª• (X√≥a).
// L√† "ƒë·∫ßu n√£o" ƒëi·ªÅu khi·ªÉn m·ªçi th·ª©.
// --------------------------------------------------------
function ProductList() {
  // KH·ªûI T·∫†O STATE:
  // D√πng M·∫£ng ch·ª©a c√°c Object ƒë·ªÉ m√¥ t·∫£ danh s√°ch.
  // M·ªói Object c·∫ßn m·ªôt ID duy nh·∫•t ƒë·ªÉ l√†m Key.
  const [products, setProducts] = useState([
    { id: 1, name: "Laptop Dell", price: 1000 },
    { id: 2, name: "Iphone 15", price: 900 },
    { id: 3, name: "Mouse Logitech", price: 50 },
  ]);

  // LOGIC X√ìA (Delete Handler):
  // T·∫°i sao kh√¥ng d√πng products.splice()? -> V√¨ React c·∫ßn t√≠nh B·∫§T BI·∫æN (Immutability).
  // Ta ph·∫£i t·∫°o ra m·ªôt m·∫£ng M·ªöI ho√†n to√†n, b·ªè ƒëi ph·∫ßn t·ª≠ c·∫ßn x√≥a.
  const handleDelete = (idToDelete) => {
    // .filter() t·∫°o ra m·∫£ng m·ªõi, ch·ªâ gi·ªØ l·∫°i nh·ªØng ai c√≥ ID KH√ÅC v·ªõi idToDelete
    const newProducts = products.filter(item1 => item1.id !== idToDelete);
    // C·∫•u tr√∫c h√†m filter x·ª≠ l√Ω array-> const newArray = oldArray.filter(item => dieu_kien);
    // üí° L∆∞u √Ω: item1 (·ªü ƒë√¢y) v√† item (·ªü .map() b√™n d∆∞·ªõi) l√† 2 bi·∫øn ƒë·ªôc l·∫≠p.
    //    T√™n kh√°c nhau ƒë·ªÉ nh·∫•n m·∫°nh: ch√∫ng ch·ªâ t·ªìn t·∫°i trong ph·∫°m vi arrow function c·ªßa m√¨nh.

    // C·∫≠p nh·∫≠t State v·ªõi m·∫£ng m·ªõi -> K√≠ch ho·∫°t Re-render
    setProducts(newProducts);
  };

  return (
    <div style={{ padding: "20px" }}>
      <h2>Danh s√°ch h√†ng h√≥a ({products.length})</h2>
      
      {/* RENDERING LISTS: */}
      {/* D√πng .map() ƒë·ªÉ bi·∫øn ƒë·ªïi m·∫£ng Data th√†nh m·∫£ng Component */}
      {products.map((item) => (
        <ProductItem 
          key={item.id}           // B·∫ÆT BU·ªòC: Gi√∫p React ƒë·ªãnh danh (D√πng ID, ƒë·ª´ng d√πng index)
          product={item}          // TRUY·ªÄN DATA: G·ª≠i object xu·ªëng cho con hi·ªÉn th·ªã
          onDelete={handleDelete} // TRUY·ªÄN LOGIC: G·ª≠i c√°i "ƒëi·ªÅu khi·ªÉn" xu·ªëng cho con d√πng
        />
      ))}
      
      {/* CONDITIONAL RENDERING: Ch·ªâ hi·ªán khi danh s√°ch r·ªóng */}
      {products.length === 0 && <p style={{color: 'gray'}}>H·∫øt h√†ng r·ªìi!</p>}
    </div>
  );
}
```
#### 5.1. Ph√¢n t√≠ch chi ti·∫øt v√≠ d·ª• (Deep Dive)

D∆∞·ªõi ƒë√¢y l√† s∆° ƒë·ªì lu·ªìng d·ªØ li·ªáu minh h·ªça cho qu√° tr√¨nh t∆∞∆°ng t√°c gi·ªØa cha v√† con:

```mermaid
sequenceDiagram
    participant User
    participant Child as ProductItem (Con)
    participant Parent as ProductList (Cha)
    
    Note over Parent: 1. Data Flow (Xu·ªëng)
    Parent->>Child: Render Props (product, onDelete)
    
    Note over User: 2. Event Flow (L√™n)
    User->>Child: Click "Delete" Button
    Child->>Parent: Call onDelete(id)
    
    Note over Parent: 3. State Update
    Parent->>Parent: handleDelete() runs
    Parent->>Parent: Create NEW Array (Immutability)
    Parent->>Parent: setProducts(newArray)
    
    Note over Parent, Child: 4. Re-render
    Parent->>Child: Re-render UI with updated list
```

#### 5.2. Lu·ªìng d·ªØ li·ªáu m·ªôt chi·ªÅu (One-way Data Flow)

**CH√çNH X√ÅC TUY·ªÜT ƒê·ªêI! üíØ**

H√£y ph√¢n t√≠ch c·ª• th·ªÉ **c√°ch Cha truy·ªÅn Con** v√† **Con truy·ªÅn Cha** trong v√≠ d·ª• `ProductList` ·ªü tr√™n. ƒê√¢y ch√≠nh l√† quy t·∫Øc **Lu·ªìng d·ªØ li·ªáu m·ªôt chi·ªÅu (One-way Data Flow)** - tri·∫øt l√Ω c·ªët l√µi c·ªßa React:

##### V·∫ø 1: "Cha truy·ªÅn con T√™n H√†m, Con truy·ªÅn Cha l·∫°i Gi√° tr·ªã"

‚úÖ **Ph√¢n t√≠ch trong code:**

**B∆∞·ªõc 1: Cha (ProductList) ƒë·ªãnh nghƒ©a h√†m x·ª≠ l√Ω**
```jsx
const handleDelete = (idToDelete) => {
  const newProducts = products.filter(item1 => item1.id !== idToDelete);
  setProducts(newProducts);
};
```
üëÜ Cha t·∫°o ra c√°i "Loa" (h√†m `handleDelete`). Cha n·∫Øm gi·ªØ to√†n quy·ªÅn quy·∫øt ƒë·ªãnh logic x√≥a.

> **üí° L∆∞u √Ω:** Bi·∫øn `item1` ·ªü ƒë√¢y l√† ho√†n to√†n ƒë·ªôc l·∫≠p v·ªõi bi·∫øn `item` trong `.map()` b√™n d∆∞·ªõi. T√™n kh√°c nhau ƒë·ªÉ nh·∫•n m·∫°nh r·∫±ng m·ªói bi·∫øn ch·ªâ t·ªìn t·∫°i trong ph·∫°m vi arrow function c·ªßa n√≥.

**B∆∞·ªõc 2: Cha ƒë∆∞a "Loa" cho Con**
```jsx
<ProductItem 
  product={item}
  onDelete={handleDelete}  // ‚Üê ƒê∆∞a T√äN H√ÄM (kh√¥ng g·ªçi, kh√¥ng c√≥ d·∫•u ())
/>
```
üëÜ Cha ch·ªâ ƒë∆∞a ƒë·ªãa ch·ªâ/t√™n h√†m cho Con. L√∫c n√†y h√†m **ch∆∞a ch·∫°y**.

**B∆∞·ªõc 3: Con (ProductItem) nh·∫≠n "Loa" v√† h√©t v√†o ƒë√≥ khi c·∫ßn**
```jsx
const ProductItem = ({ product, onDelete }) => {
  return (
    <button onClick={() => onDelete(product.id)}>  {/* ‚Üê Con G·ªåI h√†m + G·ª¨I GI√Å TR·ªä */}
      X√≥a s·∫£n ph·∫©m
    </button>
  );
};
```
üëÜ Khi user click n√∫t, Con g·ªçi `onDelete(1)` (v√≠ d·ª• ID = 1). **Con truy·ªÅn gi√° tr·ªã ng∆∞·ª£c l√™n Cha**.

**B∆∞·ªõc 4: Cha nh·∫≠n gi√° tr·ªã v√† t·ª± x·ª≠ l√Ω**
```jsx
handleDelete(1) // ‚Üê H√†m c·ªßa Cha ch·∫°y, nh·∫≠n ƒë∆∞·ª£c ID = 1
// Cha t·ª± x√≥a s·∫£n ph·∫©m c√≥ ID = 1 kh·ªèi State
```

> **C∆° ch·∫ø:** Cha ƒë∆∞a c√°i "Loa" (H√†m). Con h√©t v√†o c√°i "Loa" ƒë√≥ (G·ªçi h√†m + k√®m gi√° tr·ªã). Cha nghe th·∫•y v√† t·ª± s·ª≠a ƒë·ªïi State c·ªßa Cha.

---

##### V·∫ø 2: "Cha truy·ªÅn Con Gi√° tr·ªã, Con ch·ªâ Hi·ªÉn th·ªã, kh√¥ng Truy·ªÅn l·∫°i"

‚úÖ **Ph√¢n t√≠ch trong code:**

**B∆∞·ªõc 1: Cha truy·ªÅn d·ªØ li·ªáu xu·ªëng**
```jsx
<ProductItem 
  product={item}  // ‚Üê item = { id: 1, name: "Laptop Dell", price: 1000 }
/>
```
üëÜ Cha g·ª≠i object xu·ªëng cho Con qua props `product`.

**B∆∞·ªõc 2: Con ch·ªâ ƒë∆∞·ª£c ƒë·ªçc v√† hi·ªÉn th·ªã**
```jsx
const ProductItem = ({ product }) => {
  return (
    <div>
      <h3>{product.name}</h3>      {/* ‚Üê CH·ªà ƒê·ªåC v√† hi·ªÉn th·ªã */}
      <p>Gi√°: ${product.price}</p> {/* ‚Üê CH·ªà ƒê·ªåC v√† hi·ªÉn th·ªã */}
    </div>
  );
};
```
üëÜ Con **kh√¥ng th·ªÉ** l√†m th·∫ø n√†y:
```jsx
// ‚ùå SAI - C·ªë g·∫Øng s·ª≠a props (React s·∫Ω b√°o l·ªói)
product.price = 900;
```

**T·∫°i sao Con kh√¥ng s·ª≠a ƒë∆∞·ª£c?**
* Props l√† **Read-Only (Ch·ªâ ƒë·ªçc)**.
* N·∫øu Con mu·ªën "ƒë·ªÅ ngh·ªã" Cha thay ƒë·ªïi gi√°, Con ph·∫£i g·ªçi m·ªôt **callback function** m√† Cha ƒë√£ ƒë∆∞a (gi·ªëng nh∆∞ `onDelete` ·ªü tr√™n).
* V√≠ d·ª•: `onClick={() => onIncreasePrice(product.id, 10)}` ‚Üí Cha m·ªõi l√† ng∆∞·ªùi quy·∫øt ƒë·ªãnh c√≥ tƒÉng gi√° hay kh√¥ng.

> **C∆° ch·∫ø:** D·ªØ li·ªáu ch·∫£y nh∆∞ d√≤ng th√°c t·ª´ tr√™n xu·ªëng d∆∞·ªõi. Con nh·∫≠n ƒë∆∞·ª£c props, Con **kh√¥ng th·ªÉ** s·ª≠a props ƒë·ªÉ n√≥ t·ª± ch·∫°y ng∆∞·ª£c l√™n Cha.

---

##### H√¨nh ·∫£nh t·ªïng k·∫øt: Chi·∫øc Tivi v√† ƒê√†i truy·ªÅn h√¨nh

H√£y √°nh x·∫° l·∫°i v√≠ d·ª• `ProductList` v√†o m√¥ h√¨nh Tivi:

* **Cha (ProductList):** L√† **ƒê√†i truy·ªÅn h√¨nh VTV**.
* **Con (ProductItem):** L√† chi·∫øc **Tivi** nh√† b·∫°n.

**1. Cha truy·ªÅn gi√° tr·ªã `product` (Props) ‚Üí Con:**
* ƒê√†i ph√°t s√≥ng d·ªØ li·ªáu `{ name: "Laptop Dell", price: 1000 }`.
* Tivi nh√† b·∫°n **ch·ªâ c√≥ th·ªÉ hi·ªÉn th·ªã** d·ªØ li·ªáu ƒë√≥: "Laptop Dell - $1000".
* B·∫°n **kh√¥ng th·ªÉ** th√≤ tay v√†o m√†n h√¨nh Tivi s·ª≠a gi√° t·ª´ `$1000` th√†nh `$900` ƒë·ªÉ s·ªë li·ªáu tr√™n ƒë√†i thay ƒë·ªïi theo. (Kh√¥ng truy·ªÅn l·∫°i ƒë∆∞·ª£c).

**2. Cha truy·ªÅn h√†m `onDelete` (Callback) ‚Üí Con:**
* ƒê√†i truy·ªÅn h√¨nh cung c·∫•p m·ªôt s·ªë hotline: **"G·ªçi 1900-XXX ƒë·ªÉ b√¨nh ch·ªçn x√≥a s·∫£n ph·∫©m"**.
* B·∫°n (Con) b·∫•m n√∫t "X√≥a", gi·ªëng nh∆∞ g·ªçi hotline v√† n√≥i: **"T√¥i mu·ªën x√≥a s·∫£n ph·∫©m ID = 1!"** (Truy·ªÅn gi√° tr·ªã ng∆∞·ª£c l√™n).
* L√∫c n√†y, ƒê√†i truy·ªÅn h√¨nh (Cha) nh·∫≠n th√¥ng tin v√† t·ª± x√≥a s·∫£n ph·∫©m ƒë√≥ kh·ªèi danh s√°ch g·ªëc, sau ƒë√≥ ph√°t s√≥ng l·∫°i danh s√°ch m·ªõi xu·ªëng Tivi.

---

B·∫°n ƒë√£ n·∫Øm r·∫•t ch·∫Øc ki·∫øn th·ª©c n·ªÅn t·∫£ng n√†y r·ªìi. ƒê√¢y l√† "c·ª≠a ·∫£i" kh√≥ nh·∫•t khi m·ªõi h·ªçc React m√† b·∫°n ƒë√£ v∆∞·ª£t qua.

---

#### 5.3. Props Destructuring: Hi·ªÉu s√¢u v·ªÅ Input

Trong v√≠ d·ª• n√†y, b·∫°n th·∫•y `ProductItem` nh·∫≠n 2 m√≥n ƒë·ªì: **1 object** (`product`) v√† **1 h√†m** (`onDelete`).

Trong React, `ProductItem` l√† m·ªôt h√†m (Component), v√† "nguy√™n li·ªáu ƒë·∫ßu v√†o" (Input) c·ªßa n√≥ ch√≠nh l√† 2 th·ª© ƒë√≥.

Tuy nhi√™n, ƒë·ªÉ hi·ªÉu s√¢u h∆°n v·ªÅ m·∫∑t k·ªπ thu·∫≠t (c√°ch m√°y t√≠nh hi·ªÉu), m√¨nh xin b·ªï sung v·ªÅ c∆° ch·∫ø "g√≥i h√†ng" d∆∞·ªõi ƒë√¢y:

##### 1. G√≥c nh√¨n th·ª±c t·∫ø (B·∫°n nh√¨n th·∫•y)

ƒê√∫ng nh∆∞ b·∫°n n√≥i, b·∫°n th·∫•y h√†m n√†y nh·∫≠n 2 m√≥n ri√™ng bi·ªát:

1. **`product`**: L√† m·ªôt **Object** (ch·ª©a th√¥ng tin nh∆∞ t√™n, gi√°, id...).
2. **`onDelete`**: L√† m·ªôt **H√†m/Function** (c√¥ng c·ª• ƒë·ªÉ b·∫•m n√∫t x√≥a).

##### 2. G√≥c nh√¨n k·ªπ thu·∫≠t (React ho·∫°t ƒë·ªông)

Th·ª±c t·∫ø, React **kh√¥ng** g·ª≠i 2 m√≥n r·ªùi r·∫°c. React ƒë√≥ng g√≥i t·∫•t c·∫£ m·ªçi th·ª© v√†o **M·ªòT Object duy nh·∫•t** g·ªçi l√† **`props`**.

ƒêo·∫°n code:

```jsx
const ProductItem = ({ product, onDelete }) => { ... }
```

Th·ª±c ch·∫•t l√† c√°ch vi·∫øt t·∫Øt c·ªßa:

```jsx
// C√°ch vi·∫øt t∆∞·ªùng minh (kh√¥ng vi·∫øt t·∫Øt)
const ProductItem = (props) => { 
    const product = props.product;   // L·∫•y object product ra
    const onDelete = props.onDelete; // L·∫•y h√†m onDelete ra
    ...
}
```

K·ªπ thu·∫≠t b·∫°n ƒëang d√πng g·ªçi l√† **Destructuring (B√≥c t√°ch)**. T·ª©c l√†:

> *"T√¥i bi·∫øt React g·ª≠i ƒë·∫øn m·ªôt c√°i th√πng h√†ng t√™n l√† `props`. Nh∆∞ng t√¥i kh√¥ng mu·ªën c·∫ßm c·∫£ th√πng. T√¥i mu·ªën m·ªü th√πng ra ngay t·∫°i c·ª≠a v√† ch·ªâ l·∫•y ƒë√∫ng 2 m√≥n t√™n l√† `product` v√† `onDelete` ƒë·ªÉ d√πng th√¥i."*

##### T√≥m t·∫Øt Input c·ªßa ProductItem

| T√™n Input | Ki·ªÉu d·ªØ li·ªáu (Type) | Nhi·ªám v·ª• |
| --- | --- | --- |
| **`product`** | **Object** `{ id, name, price }` | **D·ªØ li·ªáu ƒë·ªÉ hi·ªÉn th·ªã**. (Nguy√™n li·ªáu ƒë·ªÉ n·∫•u ƒÉn). |
| **`onDelete`** | **Function** `(id) => void` | **C√¥ng c·ª• ƒë·ªÉ t∆∞∆°ng t√°c**. (C√°i n√∫t b·∫•m g·ªçi v·ªÅ Component Cha). |

> [!NOTE]
> C·∫£ 2 m√≥n n√†y ƒë·ªÅu n·∫±m b√™n trong m·ªôt object `props` duy nh·∫•t. Vi·ªác vi·∫øt `({ product, onDelete })` ch·ªâ l√† c√∫ ph√°p destructuring ƒë·ªÉ code g·ªçn g√†ng h∆°n.

---

#### 5.4. Quy t·∫Øc ƒë·∫∑t t√™n tham s·ªë (Parameter Naming)

**T√™n c·ªßa Input c·ªßa h√†m ƒë·ªÅu l√† t√™n t·∫°m?**

C√¢u tr·∫£ l·ªùi l√†: **ƒê√öNG 95%**.

H·∫ßu h·∫øt c√°c tr∆∞·ªùng h·ª£p (nh∆∞ trong `map`, `filter`, hay h√†m th√¥ng th∆∞·ªùng), t√™n Input ho√†n to√†n l√† **T√™n T·∫°m** (Placeholder). B·∫°n th√≠ch ƒë·∫∑t t√™n g√¨ c≈©ng ƒë∆∞·ª£c, mi·ªÖn l√† d√πng nh·∫•t qu√°n b√™n trong h√†m.

Tuy nhi√™n, c√≥ **1 tr∆∞·ªùng h·ª£p ƒë·∫∑c bi·ªát** trong React m√† b·∫°n c·∫ßn l∆∞u √Ω (li√™n quan ƒë·∫øn c√°i ngo·∫∑c nh·ªçn `{}`).

H√£y c√πng ph√¢n t√≠ch 2 tr∆∞·ªùng h·ª£p n√†y:

---

##### 1. Tr∆∞·ªùng h·ª£p "T√™n T·∫°m" (T·ª± do 100%)

ƒê√¢y l√† tr∆∞·ªùng h·ª£p c·ªßa c√°c h√†m nh∆∞: `map`, `filter`, `handleDelete`, hay c√°c h√†m x·ª≠ l√Ω s·ª± ki·ªán `onClick`.

B·∫°n c√≥ th·ªÉ v√≠ n√≥ nh∆∞ **C√°i Ph·ªÖu**. C√°i ph·ªÖu kh√¥ng quan t√¢m b·∫°n ƒë·ªï n∆∞·ªõc, c√°t, hay g·∫°o v√†o. N√≥ ch·ªâ h·ª©ng th·ª© ƒë∆∞·ª£c ƒë·ªï v√†o th√¥i.

**V√≠ d·ª• v·ªõi `handleDelete`:**

```javascript
// C√°ch 1: T√™n chu·∫©n
const handleDelete = (idToDelete) => { ... }

// C√°ch 2: T√™n ti·∫øng Vi·ªát
const handleDelete = (maSoCanXoa) => { ... }

// C√°ch 3: T√™n ng·∫´u nhi√™n
const handleDelete = (cucGom) => { ... }
```

‚úÖ **T·∫•t c·∫£ ƒë·ªÅu ch·∫°y ƒë√∫ng.** V√¨ khi g·ªçi h√†m `handleDelete(1)`, s·ªë `1` s·∫Ω t·ª± ƒë·ªông nh·∫£y v√†o c√°i t√™n m√† b·∫°n ƒë√£ ƒë·∫∑t ·ªü v·ªã tr√≠ ƒë√≥.

**V√≠ d·ª• v·ªõi `filter`:**

```javascript
// B·∫°n vi·∫øt item1, item2, hay x, y, z ƒë·ªÅu ƒë∆∞·ª£c
products.filter(x => x.id !== ...) 
```

---

##### 2. Tr∆∞·ªùng h·ª£p "B·∫Øt bu·ªôc ƒë√∫ng t√™n" (L∆∞u √Ω ƒë·∫∑c bi·ªát)

ƒê√¢y l√† tr∆∞·ªùng h·ª£p c·ªßa **Component React** khi b·∫°n d√πng d·∫•u ngo·∫∑c nh·ªçn `{ }` ƒë·ªÉ nh·∫≠n Props (k·ªπ thu·∫≠t Destructuring).

V√≠ d·ª•: Component `ProductItem`.

**·ªû Component Cha (G·ª≠i ƒëi):**
Cha ƒë√≥ng g√≥i 1 th√πng h√†ng, d√°n nh√£n b√™n ngo√†i th√πng l√† `product` v√† `onDelete`.

```jsx
<ProductItem product={...} onDelete={...} />
```

**·ªû Component Con (Nh·∫≠n v·ªÅ):**

**C√°ch 1: Nh·∫≠n c·∫£ th√πng (T√™n t·∫°m OK)**
N·∫øu b·∫°n nh·∫≠n c·∫£ th√πng `props`, th√¨ ch·ªØ `props` l√† t√™n t·∫°m. B·∫°n ƒë·ªïi th√†nh `thungHang` c≈©ng ƒë∆∞·ª£c.

```jsx
const ProductItem = (thungHang) => { 
    // Ph·∫£i t·ª± b√≥c th√πng ra: thungHang.product
}
```

**C√°ch 2: B√≥c th√πng ngay t·∫°i c·ª≠a (Destructuring - Ph·∫£i ƒë√∫ng t√™n nh√£n)**
ƒê√¢y l√† c√°ch b·∫°n ƒëang d√πng. Khi b·∫°n vi·∫øt `{ product }`, b·∫°n ƒëang b·∫£o React: *"H√£y t√¨m trong th√πng h√†ng c√°i g√≥i tin c√≥ nh√£n l√† `product` cho t√¥i"*.

```jsx
// ‚úÖ ƒê√öNG: T√™n tr√πng v·ªõi nh√£n cha g·ª≠i
const ProductItem = ({ product }) => { ... }

// ‚ùå SAI: T√™n kh√°c nh√£n (React t√¨m kh√¥ng th·∫•y g√≥i "caiBanh" n√†o c·∫£ -> undefined)
const ProductItem = ({ caiBanh }) => { ... } 
```

##### T√≥m t·∫Øt quy t·∫Øc ƒë·∫∑t t√™n

| Lo·∫°i h√†m | V√≠ d·ª• | Quy t·∫Øc ƒë·∫∑t t√™n Input |
| --- | --- | --- |
| **H√†m th∆∞·ªùng** | `handleDelete(id)` | **T·ª∞ DO**. ƒê·∫∑t `id`, `x`, `a` ƒë·ªÅu ƒë∆∞·ª£c (d·ª±a v√†o **Th·ª© t·ª±**). |
| **Callback** | `.map(item => ...)` | **T·ª∞ DO**. ƒê·∫∑t `item`, `sp`, `e` ƒë·ªÅu ƒë∆∞·ª£c. |
| **Component (Props)** | `({ product })` | **B·∫ÆT BU·ªòC**. Ph·∫£i tr√πng t√™n v·ªõi key m√† Cha g·ª≠i xu·ªëng (d·ª±a v√†o **T√™n nh√£n**). |

> [!IMPORTANT]
> Khi d√πng destructuring `{ }` trong React component, t√™n bi·∫øn **ph·∫£i kh·ªõp ch√≠nh x√°c** v·ªõi t√™n prop m√† component cha truy·ªÅn xu·ªëng. ƒê√¢y l√† ƒëi·ªÉm kh√°c bi·ªát quan tr·ªçng so v·ªõi h√†m th√¥ng th∆∞·ªùng.

---

#### 5.5. Quy ∆∞·ªõc ƒë·∫∑t t√™n trong React (Naming Conventions)

D∆∞·ªõi ƒë√¢y l√† b·∫£ng t·ªïng h·ª£p "kim ch·ªâ nam" v·ªÅ quy t·∫Øc ƒë·∫∑t t√™n trong React. B·∫°n c√≥ th·ªÉ in ra ho·∫∑c l∆∞u l·∫°i ƒë·ªÉ d√πng cho m·ªçi d·ª± √°n sau n√†y.

Ch√∫ng ta s·ª≠ d·ª•ng 3 ki·ªÉu vi·∫øt ch√≠nh:

1. **PascalCase:** Vi·∫øt Hoa Ch·ªØ C√°i ƒê·∫ßu (V√≠ d·ª•: `ProductItem`)
2. **camelCase:** vi·∫øt th∆∞·ªùng ch·ªØ c√°i ƒë·∫ßu (V√≠ d·ª•: `handleDelete`)
3. **SCREAMING_CASE:** VI·∫æT_HOA_TO√ÄN_B·ªò (V√≠ d·ª•: `API_URL`)

---

##### 1. B·∫£ng Tra C·ª©u Nhanh

| Lo·∫°i th√†nh ph·∫ßn | Quy t·∫Øc vi·∫øt | C√¥ng th·ª©c ƒë·∫∑t t√™n | V√≠ d·ª• chu·∫©n |
| --- | --- | --- | --- |
| **Component** | **PascalCase** | T√™n danh t·ª´ | `ProductList`, `Header`, `UserProfile` |
| **H√†m ·ªü Cha (Logic)** | **camelCase** | `handle` + ƒê·ªông t·ª´ | `handleDelete`, `handleSubmit`, `handleChange` |
| **Props ·ªü Con (Event)** | **camelCase** | `on` + ƒê·ªông t·ª´ | `onDelete`, `onClick`, `onChange` |
| **H√†m Helper (N·ªôi b·ªô)** | **camelCase** | ƒê·ªông t·ª´ + Danh t·ª´ | `calculateTotal`, `formatDate`, `fetchData` |
| **Bi·∫øn (Data)** | **camelCase** | Danh t·ª´ | `user`, `products`, `itemList` |
| **Bi·∫øn Boolean** | **camelCase** | `is`/`has`/`should` + T√≠nh t·ª´ | `isLoading`, `hasError`, `isVisible` |
| **H·∫±ng s·ªë (C·ªë ƒë·ªãnh)** | **SCREAMING** | T√™n_C√°ch_Nhau_G·∫°ch_D∆∞·ªõi | `MAX_ITEMS`, `API_URL`, `VAT_TAX` |

---

##### 2. Gi·∫£i Th√≠ch Chi Ti·∫øt & L√Ω Do

###### A. Component (Cha & Con) ‚Üí PascalCase

* **Quy t·∫Øc:** Lu√¥n vi·∫øt hoa ch·ªØ c√°i ƒë·∫ßu.
* **L√Ω do:** ƒê·ªÉ React ph√¢n bi·ªát v·ªõi th·∫ª HTML (`<div>`, `<span>`).
* **V√≠ d·ª•:**
  * ‚úÖ `ProductItem`
  * ‚ùå `productItem` (Sai, React s·∫Ω t∆∞·ªüng l√† th·∫ª HTML l·ªói).

###### B. C·∫∑p ƒë√¥i "Handle - On" (Quan tr·ªçng nh·∫•t)

ƒê√¢y l√† quy t·∫Øc giao ti·∫øp gi·ªØa Cha v√† Con.

* **T·∫°i Component Cha (N∆°i ƒë·ªãnh nghƒ©a logic):** D√πng ti·ªÅn t·ªë **`handle`**.
  * N√≥ tr·∫£ l·ªùi c√¢u h·ªèi: *"T√¥i x·ª≠ l√Ω vi·ªác g√¨?"*
  * V√≠ d·ª•: `handleDelete` (T√¥i x·ª≠ l√Ω vi·ªác x√≥a).

* **T·∫°i Component Con (Props nh·∫≠n v·ªÅ):** D√πng ti·ªÅn t·ªë **`on`**.
  * N√≥ tr·∫£ l·ªùi c√¢u h·ªèi: *"S·ª± ki·ªán n√†o k√≠ch ho·∫°t t√¥i?"*
  * V√≠ d·ª•: `onDelete` (Khi n√∫t x√≥a ƒë∆∞·ª£c b·∫•m).

###### C. H√†m Helper (H√†m ph·ª• tr·ª£)

L√† nh·ªØng h√†m t√≠nh to√°n, format d·ªØ li·ªáu, g·ªçi API... n·∫±m b√™n trong ho·∫∑c b√™n ngo√†i component.

* **Quy t·∫Øc:** ƒê·ªông t·ª´ + Danh t·ª´ (L√†m c√°i g√¨ + Cho c√°i g√¨).
* **V√≠ d·ª•:**
  * `calculateTotal()` (T√≠nh t·ªïng)
  * `formatCurrency()` (ƒê·ªãnh d·∫°ng ti·ªÅn t·ªá)
  * `checkPermission()` (Ki·ªÉm tra quy·ªÅn)

###### D. Bi·∫øn & State

* **Bi·∫øn d·ªØ li·ªáu:** D√πng danh t·ª´. (`products`, `currentUser`).
* **Bi·∫øn Boolean (ƒê√∫ng/Sai):** Lu√¥n b·∫Øt ƒë·∫ßu b·∫±ng c√¢u h·ªèi `is`, `has`, `should`.
  * `isLoading` (ƒêang t·∫£i ph·∫£i kh√¥ng?) ‚Üí ƒê·ªçc code nh∆∞ ƒë·ªçc vƒÉn.
  * Tr√°nh ƒë·∫∑t t√™n c·ª•t l·ªßn nh∆∞: `loading` (Kh√¥ng r√µ l√† tr·∫°ng th√°i hay l√† h√†nh ƒë·ªông t·∫£i), `flag` (C·ªù g√¨?).

---

##### 3. V√≠ d·ª• Code T·ªïng H·ª£p (Chu·∫©n S√°ch Gi√°o Khoa)

```javascript
// 1. H·∫∞NG S·ªê (C·ªë ƒë·ªãnh to√†n c·ª•c) -> SCREAMING_SNAKE_CASE
const MAX_PRODUCT_COUNT = 10;

// 2. COMPONENT (B·∫Øt bu·ªôc) -> PascalCase
function ProductManager() {

  // 3. STATE (Bi·∫øn: Danh t·ª´, Setter: set + Danh t·ª´) -> camelCase
  const [products, setProducts] = useState([]);
  
  // 4. BOOLEAN (Tr·∫°ng th√°i) -> is/has...
  const [isLoading, setIsLoading] = useState(false);

  // 5. HELPER FUNCTION (H√†m b·ªï tr·ª£) -> Verb + Noun
  const calculateTax = (price) => {
    return price * 0.1;
  };

  // 6. HANDLER FUNCTION (Logic x·ª≠ l√Ω s·ª± ki·ªán) -> handle + Verb
  const handleDelete = (idToDelete) => {
    const newProducts = products.filter(p => p.id !== idToDelete);
    setProducts(newProducts);
  };

  return (
    <div>
      {/* 7. PROPS EVENT (Truy·ªÅn xu·ªëng con) -> on + Verb */}
      <ProductList 
         data={products} 
         onDelete={handleDelete} 
      />
    </div>
  );
}
```

> [!TIP]
> B·∫°n c·ª© √°p d·ª•ng ƒë√∫ng b·∫£ng n√†y, code c·ªßa b·∫°n s·∫Ω c·ª±c k·ª≥ chuy√™n nghi·ªáp, d·ªÖ ƒë·ªçc v√† d·ªÖ b·∫£o tr√¨ cho c·∫£ team!

---

#### 5.6. M√¥ h√¨nh "Data Down, Actions Up" - T·ªïng h·ª£p Quy chu·∫©n (The Complete Pattern)

Ph·∫ßn n√†y l√† b·∫£n t·ªïng h·ª£p (Reference Guide) v·ªÅ m√¥ h√¨nh giao ti·∫øp gi·ªØa Component Cha v√† Con th√¥ng qua **Callback/Props**. H√£y l∆∞u l·∫°i ƒë·ªÉ tham kh·∫£o khi c·∫ßn.

##### 1. Nguy√™n l√Ω c·ªët l√µi

* **D·ªØ li·ªáu (Data):** Ch·∫£y t·ª´ tr√™n xu·ªëng (Cha ‚Üí Con) th√¥ng qua `props`.
* **H√†nh ƒë·ªông (Actions/Events):** G·ª≠i t·ª´ d∆∞·ªõi l√™n (Con ‚Üí Cha) th√¥ng qua vi·ªác g·ªçi h√†m (Callback).

##### 2. Quy chu·∫©n ƒë·∫∑t t√™n (Naming Convention)

ƒê·ªÉ code d·ªÖ ƒë·ªçc v√† d·ªÖ b·∫£o tr√¨, c·ªông ƒë·ªìng React th·ªëng nh·∫•t quy t·∫Øc:

| V·ªã tr√≠ | T√™n h√†m/Prop | √ù nghƒ©a | V√≠ d·ª• |
| --- | --- | --- | --- |
| **T·∫°i Component Cha** | **`handle`** + `T√™n H√†nh ƒê·ªông` | H√†m n√†y ch·ª©a **LOGIC** x·ª≠ l√Ω. | `handleSave`, `handleChange` |
| **T·∫°i Props (C·∫ßu n·ªëi)** | **`on`** + `T√™n S·ª± Ki·ªán` | T√™n c·ªßa c√°i "d√¢y n·ªëi" m√† cha ƒë∆∞a xu·ªëng. | `onSave`, `onChange` |
| **T·∫°i Component Con** | G·ªçi `props.`**`on...`** | Con k√≠ch ho·∫°t s·ª± ki·ªán ƒë·ªÉ b√°o c√°o/g·ª≠i d·ªØ li·ªáu. | `props.onSave(data)` |

##### 3. C∆° ch·∫ø ho·∫°t ƒë·ªông (Lu·ªìng ch·∫°y)

Quy tr√¨nh k·∫øt n·ªëi g·ªìm 3 b∆∞·ªõc c·ª• th·ªÉ:

* **B∆∞·ªõc 1 (T·∫°i Cha - Logic):**
  * Cha khai b√°o m·ªôt h√†m `handle...` (v√≠ d·ª•: `handleUpdate`).
  * ƒê√¢y l√† n∆°i x·ª≠ l√Ω d·ªØ li·ªáu cu·ªëi c√πng (l∆∞u v√†o state, g·ªçi API...).

* **B∆∞·ªõc 2 (T·∫°i Cha - K·∫øt n·ªëi):**
  * Trong ph·∫ßn `return` c·ªßa Cha: Cha g√°n h√†m `handle...` c·ªßa m√¨nh v√†o m·ªôt **Prop** (v√≠ d·ª•: `onUpdate`) c·ªßa th·∫ª Con.
  * *L∆∞u √Ω:* Cha k·∫øt n·ªëi v√†o **Prop**, kh√¥ng k·∫øt n·ªëi tr·ª±c ti·∫øp v√†o h√†m n·ªôi b·ªô c·ªßa con.

* **B∆∞·ªõc 3 (T·∫°i Con - Th·ª±c thi):**
  * Trong ph·∫ßn `return` (ho·∫∑c logic) c·ªßa Con: Khi s·ª± ki·ªán x·∫£y ra (click, type...), Con g·ªçi `props.onUpdate(value)`.
  * H√†nh ƒë·ªông n√†y "b·∫Øn" gi√° tr·ªã `value` ng∆∞·ª£c l√™n h√†m `handleUpdate` c·ªßa Cha.

##### 4. Code t·ªïng h·ª£p m·∫´u

```jsx
// --- COMPONENT CON (Ng∆∞·ªùi g·ª≠i) ---
function HamCon(props) {
    // Helper function c·ªßa con (T√πy ch·ªçn: d√πng ƒë·ªÉ chu·∫©n b·ªã d·ªØ li·ªáu)
    const chuanBiDuLieu = () => {
        const data = "D·ªØ li·ªáu t·ª´ Con";
        
        // [QUAN TR·ªåNG] G·ªçi prop on... ƒë·ªÉ tr·∫£ value v·ªÅ cho cha
        props.onGuiTin(data); 
    };

    return (
        // S·ª± ki·ªán click k√≠ch ho·∫°t vi·ªác g·ª≠i tin
        <button onClick={chuanBiDuLieu}>
            G·ª≠i cho Cha
        </button>
    );
}

// --- COMPONENT CHA (Ng∆∞·ªùi nh·∫≠n & X·ª≠ l√Ω) ---
function HamCha() {
    // [QUAN TR·ªåNG] Helper function c·ªßa Cha: D√πng handle...
    const handleNhanTin = (valueTuCon) => {
        console.log("X·ª≠ l√Ω logic v·ªõi: ", valueTuCon);
    };

    return (
        <div>
            {/* [QUAN TR·ªåNG] K·∫øt n·ªëi: G√°n handle (Cha) v√†o on (Prop) */}
            <HamCon onGuiTin={handleNhanTin} />
        </div>
    );
}
```

##### 5. ƒê√≠nh ch√≠nh quan tr·ªçng

> **ƒê√öNG:** Con d√πng `on+Name` ƒë·ªÉ tr·∫£ `value` v·ªÅ cho cha.
> 
> **CH·ªàNH L·∫†I:** Trong `return` c·ªßa Cha, Cha **kh√¥ng nh√¨n th·∫•y** h√†m helper b√™n trong Con. Cha ch·ªâ nh√¨n th·∫•y **Props** c·ªßa Con.
> 
> Do ƒë√≥, Cha k·∫øt n·ªëi `helperFunction Cha` ‚Üí `Props c·ªßa Con`.

**Gi·∫£i th√≠ch theo 3 b∆∞·ªõc:**

* **B∆∞·ªõc 1 - Logic t·∫°i Cha:**
  * Trong code tr√™n, d√≤ng `const handleNhanTin = (valueTuCon) => { ... }` l√† n∆°i Cha ƒë·ªãnh nghƒ©a logic x·ª≠ l√Ω.
  * H√†m n√†y s·∫Ω nh·∫≠n d·ªØ li·ªáu t·ª´ Con v√† x·ª≠ l√Ω (·ªü ƒë√¢y l√† in ra console).

* **B∆∞·ªõc 2 - K·∫øt n·ªëi t·∫°i Cha:**
  * D√≤ng `<HamCon onGuiTin={handleNhanTin} />` ch√≠nh l√† Cha "c·∫Øm d√¢y" - g√°n h√†m `handleNhanTin` v√†o **Prop** `onGuiTin`.
  * L√∫c n√†y Cha ƒë√£ t·∫°o "c·∫ßu n·ªëi" cho Con, nh∆∞ng h√†m v·∫´n ch∆∞a ch·∫°y.

* **B∆∞·ªõc 3 - Th·ª±c thi t·∫°i Con:**
  * B√™n trong Con, khi user click button, d√≤ng `props.onGuiTin(data)` ƒë∆∞·ª£c g·ªçi.
  * Th·ª±c ch·∫•t Con ƒëang g·ªçi h√†m `handleNhanTin` c·ªßa Cha (v√¨ Cha ƒë√£ g√°n n√≥ v√†o prop `onGuiTin`).
  * Gi√° tr·ªã `data` t·ª´ Con ƒë∆∞·ª£c "b·∫Øn" ng∆∞·ª£c l√™n Cha qua tham s·ªë `valueTuCon`.

> ƒê√¢y ch√≠nh l√† **Callback Pattern**: Cha ƒë∆∞a c√¥ng c·ª• (h√†m) cho Con, Con d√πng c√¥ng c·ª• ƒë√≥ ƒë·ªÉ "g·ªçi ng∆∞·ª£c" l·∫°i Cha.

---

#### 5.7. T√≥m t·∫Øt: 4 Tr·ª• c·ªôt React trong v√≠ d·ª•

V√≠ d·ª• `ProductList` v√† `ProductItem` ·ªü tr√™n tuy ng·∫Øn nh∆∞ng ƒë√£ minh h·ªça ƒë·∫ßy ƒë·ªß **4 ki·∫øn th·ª©c tr·ª• c·ªôt** c·ªßa React:

**1. Data Flow (D√≤ng ch·∫£y d·ªØ li·ªáu - Downwards)**
*   D·ªØ li·ªáu `products` ch·ªâ ƒë∆∞·ª£c **s·ªëng** ·ªü Component Cha (`ProductList`).
*   Component Con (`ProductItem`) mu·ªën c√≥ d·ªØ li·ªáu? Cha ph·∫£i truy·ªÅn xu·ªëng qua `props` (`product={item}`).
*   Con **kh√¥ng ƒë∆∞·ª£c quy·ªÅn** s·ª≠a d·ªØ li·ªáu n√†y. N√≥ ch·ªâ ƒë∆∞·ª£c ƒë·ªçc v√† hi·ªÉn th·ªã.

**2. Event Flow (D√≤ng ch·∫£y s·ª± ki·ªán - Upwards)**
*   Con mu·ªën x√≥a ch√≠nh n√≥, nh∆∞ng Con kh√¥ng gi·ªØ State, n√™n Con **kh√¥ng th·ªÉ t·ª± x√≥a**.
*   Con ph·∫£i **"b√°o c√°o"** l√™n Cha: *"Cha ∆°i, ng∆∞·ªùi d√πng mu·ªën x√≥a th·∫±ng c√≥ ID l√† 1"*.
*   C√°ch b√°o c√°o: G·ªçi c√°i h√†m m√† Cha ƒë√£ ƒë∆∞a cho l√∫c tr∆∞·ªõc (`onDelete`).
*   ƒê√¢y l√† m√¥ h√¨nh **Inverse Data Flow** (D√≤ng d·ªØ li·ªáu ng∆∞·ª£c) th√¥ng qua Callback Functions.

**3. State Immutability (T√≠nh b·∫•t bi·∫øn)**
*   Trong h√†m `handleDelete`, ta **TUY·ªÜT ƒê·ªêI KH√îNG** l√†m th·∫ø n√†y:
    ```javascript
    products.pop(); // SAI! S·ª≠a tr·ª±c ti·∫øp v√†o m·∫£ng c≈©
    setProducts(products); // React s·∫Ω kh√¥ng th·∫•y s·ª± thay ƒë·ªïi v√¨ tham chi·∫øu m·∫£ng v·∫´n nh∆∞ c≈©.
    ```
*   Ta ph·∫£i d√πng `.filter()`: H√†m n√†y kh√¥ng s·ª≠a m·∫£ng c≈©, m√† n√≥ l·∫≥ng l·∫∑ng t·∫°o ra m·ªôt **m·∫£ng m·ªõi** ch·ª©a k·∫øt qu·∫£. Khi React th·∫•y m·∫£ng m·ªõi n√†y, n√≥ m·ªõi ch·ªãu c·∫≠p nh·∫≠t giao di·ªán.

**4. Key Prop (ƒê·ªãnh danh)**
*   D√≤ng `key={item.id}` kh√¥ng ph·∫£i ƒë·ªÉ cho ƒë·∫πp. N√≥ gi√∫p React bi·∫øt ch√≠nh x√°c: *"√Ä, c√°i th·∫±ng Laptop Dell (ID 1) v·∫´n c√≤n, th·∫±ng Iphone (ID 2) b·ªã x√≥a"*.
*   N·∫øu d√πng `index` l√†m key, khi x√≥a th·∫±ng ƒë·∫ßu ti√™n, React s·∫Ω b·ªã lo·∫°n v√† ph·∫£i v·∫Ω l·∫°i to√†n b·ªô danh s√°ch, g√¢y l√£ng ph√≠ t√†i nguy√™n kh·ªßng khi·∫øp.

---

### 6. B√†i t·∫≠p th·ª±c h√†nh (Module 2)

**B√†i to√°n:** T·∫°o m·ªôt danh s√°ch c√¥ng vi·ªác (Todo List) ƒë∆°n gi·∫£n.

1. C√≥ m·ªôt n√∫t "Th√™m c√¥ng vi·ªác".
    
2. M·ªói l·∫ßn b·∫•m, th√™m m·ªôt d√≤ng "C√¥ng vi·ªác m·ªõi" v√†o danh s√°ch.
    

**G·ª£i √Ω gi·∫£i (Mental Model):**

- C·∫ßn `state` ƒë·ªÉ l∆∞u danh s√°ch: `const [todos, setTodos] = useState([])`.
    
- S·ª± ki·ªán click s·∫Ω g·ªçi `setTodos` ƒë·ªÉ t·∫°o m·∫£ng m·ªõi, c√≥ th√™m ph·∫ßn t·ª≠ m·ªõi.
    
- D√πng `.map()` ƒë·ªÉ render ra `<li>`.
    

```jsx
function TodoApp() {
  const [todos, setTodos] = useState(['H·ªçc React', 'Vi·∫øt Code']);

  const addJob = () => {
    // L∆∞u √Ω: Ph·∫£i t·∫°o m·∫£ng m·ªõi (Immutability), kh√¥ng d√πng .push()
    setTodos([...todos, 'C√¥ng vi·ªác m·ªõi']); 
  };

  return (
    <div>
      <button onClick={addJob}>Th√™m vi·ªác</button>
      <ul>
        {todos.map((job, index) => (
           // T·∫°m d√πng index l√†m key v√¨ danh s√°ch ƒë∆°n gi·∫£n
           <li key={index}>{job}</li>
        ))}
      </ul>
    </div>
  );
}
```

## PH·∫¶N 4: T√ÄI LI·ªÜU CHI TI·∫æT - MODULE 3: SIDE EFFECTS & K·∫æT N·ªêI TH·∫æ GI·ªöI B√äN NGO√ÄI

### 1. Pure Function vs Side Effects

Tr∆∞·ªõc khi h·ªçc `useEffect`, b·∫°n c·∫ßn hi·ªÉu React gh√©t c√°i g√¨ nh·∫•t. React gh√©t **s·ª± thi·∫øu tinh khi·∫øt** trong qu√° tr√¨nh render.

#### 1.1. Pure Function (H√†m thu·∫ßn khi·∫øt) - Ti√™u chu·∫©n v√†ng

H√†m Component `UserCard(props)` ƒë∆∞·ª£c coi l√† thu·∫ßn khi·∫øt khi:

1. **C√πng ƒë·∫ßu v√†o lu√¥n ra c√πng ƒë·∫ßu ra:** ƒê∆∞a `props` A lu√¥n nh·∫≠n ƒë∆∞·ª£c UI A.
    
2. **Kh√¥ng l√†m thay ƒë·ªïi b√™n ngo√†i:** Kh√¥ng s·ª≠a bi·∫øn to√†n c·ª•c, kh√¥ng s·ª≠a DOM tr·ª±c ti·∫øp, kh√¥ng g·ªçi API ng·∫ßm.
    

#### 1.2. Side Effects (T√°c d·ª•ng ph·ª•) - Nh·ªØng k·∫ª ph√° bƒ©nh

Side Effect l√† b·∫•t c·ª© th·ª© g√¨ l√†m ·∫£nh h∆∞·ªüng ƒë·∫øn th·∫ø gi·ªõi b√™n ngo√†i ph·∫°m vi c·ªßa h√†m.

- G·ªçi API l·∫•y d·ªØ li·ªáu.
    
- `document.title = "Hello"`.
    
- `setTimeout`, `setInterval`.
    
- ƒêƒÉng k√Ω s·ª± ki·ªán `window.addEventListener`.
    

> **Quy t·∫Øc sinh t·ª≠:** **TUY·ªÜT ƒê·ªêI KH√îNG** vi·∫øt Side Effect tr·ª±c ti·∫øp trong th√¢n h√†m Component. V√¨ Component c√≥ th·ªÉ render l·∫°i h√†ng ch·ª•c l·∫ßn m·ªói gi√¢y, Side Effect c≈©ng s·∫Ω ch·∫°y l·∫°i b·∫•y nhi√™u l·∫ßn (g√¢y crash app, spam API).

---

### 1.3. So s√°nh tri·∫øt l√Ω: React (Explicit) vs PHP (Implicit)

ƒê·ªÉ hi·ªÉu s√¢u h∆°n t·∫°i sao React c√≥ nh·ªØng quy t·∫Øc nghi√™m ng·∫∑t nh∆∞ v·∫≠y, h√£y nh√¨n v√†o cu·ªôc chi·∫øn tri·∫øt l√Ω gi·ªØa **React (T∆∞ duy hi·ªán ƒë·∫°i, T∆∞·ªùng minh)** v√† **PHP (T∆∞ duy Legacy, Ng·∫ßm ƒë·ªãnh)**.

#### 1.3.1. Cu·ªôc chi·∫øn tri·∫øt l√Ω: Explicit (R√µ r√†ng) vs. Implicit (Ng·∫ßm ƒë·ªãnh)

ƒê√¢y l√† nguy√™n nh√¢n c·ªët l√µi khi·∫øn nhi·ªÅu l·∫≠p tr√¨nh vi√™n hi·ªán ƒë·∫°i "gh√©t" s·ª± ma thu·∫≠t (magic) c·ªßa PHP ki·ªÉu c≈©.

| ƒê·∫∑c ƒëi·ªÉm | React (T∆∞ duy hi·ªán ƒë·∫°i) | PHP (Ki·ªÉu c≈© / Framework c≈©) |
| --- | --- | --- |
| **D√≤ng d·ªØ li·ªáu** | **M·ªôt chi·ªÅu & R√µ r√†ng.** Cha truy·ªÅn cho con qua `props`. Nh√¨n v√†o component l√† bi·∫øt data t·ª´ ƒë√¢u t·ªõi. | **ƒêa chi·ªÅu & ·∫®n danh.** Data c√≥ th·ªÉ ƒë·∫øn t·ª´ `global`, `session`, `$_REQUEST`... l∆° l·ª≠ng trong m√¥i tr∆∞·ªùng. |
| **ƒê·ªô tin c·∫≠y** | **Pure (Thu·∫ßn khi·∫øt).** C√πng m·ªôt ƒë·∫ßu v√†o (Props), lu√¥n ra c√πng k·∫øt qu·∫£ (UI). | **Unpredictable (Kh√≥ ƒëo√°n).** C√πng m·ªôt h√†m, ch·∫°y l√∫c n√†y th√¨ ƒë√∫ng, ch·∫°y l√∫c kh√°c th√¨ sai do bi·∫øn m√¥i tr∆∞·ªùng thay ƒë·ªïi. |
| **Debug** | D·ªÖ. L·ªói ·ªü ƒë√¢u, nh√¨n lu·ªìng props l√† ra. | Kh√≥. Ph·∫£i truy t√¨m xem bi·∫øn ƒë√≥ b·ªã thay ƒë·ªïi ·ªü file n√†o trong h√†ng ch·ª•c file `include`. |

#### 1.3.2. ƒê·ªãnh nghƒ©a l·∫°i "Ma thu·∫≠t" (Magic)

* **Trong PHP (Ki·ªÉu c≈©):** "Ma thu·∫≠t" l√† nh·ªØng th·ª© t·ª± ƒë·ªông x·∫£y ra m√† kh√¥ng c·∫ßn vi·∫øt code r√µ r√†ng. V√≠ d·ª•: `$_REQUEST` t·ª± ƒë·ªông gom `GET`, `POST`, `COOKIE` l·∫°i. N√≥ ti·ªán cho ng∆∞·ªùi vi·∫øt nhanh, nh∆∞ng l√† √°c m·ªông cho ng∆∞·ªùi ƒë·ªçc v√† b·∫£o tr√¨ (maintain).
    
* **Trong React:** Kh√¥ng c√≥ ma thu·∫≠t. M·ªçi th·ª© ƒë·ªÅu ph·∫£i ƒë∆∞·ª£c khai b√°o. N·∫øu component c·∫ßn d·ªØ li·ªáu, n√≥ ph·∫£i "xin" qua `props` ho·∫∑c `hooks`. M·ªçi th·ª© ƒë·ªÅu **Explicit (T∆∞·ªùng minh)**.
    

#### 1.3.3. C∆° ch·∫ø ki·ªÉm so√°t th·∫ø gi·ªõi b√™n ngo√†i (Side Effects)

ƒê√¢y ch√≠nh l√† l√Ω do t·∫°i sao `useEffect` t·ªìn t·∫°i v√† t·∫°i sao n√≥ quan tr·ªçng.

**Quy t·∫Øc b·∫•t di b·∫•t d·ªãch:** Component React gi·ªëng nh∆∞ m·ªôt **"ph√°o ƒë√†i"**.

* **B√™n ngo√†i (Outsider):** Kh√¥ng th·ªÉ t·ª± √Ω can thi·ªáp v√†o n·ªôi b·ªô component, tr·ª´ khi ƒëi qua "c·ªïng ch√≠nh" l√† **Props**.
    
* **B√™n trong (Insider):** Kh√¥ng ƒë∆∞·ª£c t·ª± √Ω ch·∫°y ra ngo√†i l√†m lo·∫°n (s·ª≠a DOM, g·ªçi API lung tung) trong l√∫c ƒëang t√≠nh to√°n giao di·ªán (Render).
    
* **V√πng ƒë·∫∑c bi·ªát (Special Zone):** React d√†nh ri√™ng **M·ªòT V√Ä CH·ªà M·ªòT** v√πng cho ph√©p can thi·ªáp b√™n ngo√†i: ƒë√≥ l√† `useEffect`. V√πng n√†y n·∫±m **b√™n trong** component, nh∆∞ng ch·ªâ ƒë∆∞·ª£c ph√©p ch·∫°y **SAU KHI** t·∫•t c·∫£ logic b√™n trong (t√≠nh to√°n UI) ƒë√£ ho√†n t·∫•t.
    

**Vai tr√≤ c·ªßa `useEffect`:**

* N√≥ l√† "khu v·ª±c c√°ch ly" d√†nh ri√™ng cho c√°c **Side Effects** - n∆°i duy nh·∫•t ƒë∆∞·ª£c ph√©p t√°c ƒë·ªông ra th·∫ø gi·ªõi b√™n ngo√†i.
    
* Mu·ªën g·ªçi API? Mu·ªën ƒë·ªïi title tr√¨nh duy·ªát? Mu·ªën l·∫Øng nghe s·ª± ki·ªán? ‚Üí **Ph·∫£i nh·ªët v√†o `useEffect`**.
    
* **Th·ª© t·ª± th·ª±c thi quan tr·ªçng:** 
  1. Component render (t√≠nh to√°n UI thu·∫ßn khi·∫øt)
  2. React v·∫Ω UI l√™n m√†n h√¨nh
  3. **SAU ƒê√ì M·ªöI** ch·∫°y `useEffect` (can thi·ªáp b√™n ngo√†i)
    
* ƒêi·ªÅu n√†y ƒë·∫£m b·∫£o ph·∫ßn c√≤n l·∫°i c·ªßa component v·∫´n "Thu·∫ßn khi·∫øt" (Pure) v√† d·ªÖ ki·ªÉm so√°t, ƒë·ªìng th·ªùi kh√¥ng l√†m ch·∫∑n (block) qu√° tr√¨nh render.
    

#### 1.3.4. K·∫øt lu·∫≠n: T·∫°i sao React c·∫£m th·∫•y "t·ª± nhi√™n" h∆°n

L√Ω do nhi·ªÅu l·∫≠p tr√¨nh vi√™n c·∫£m th·∫•y "vibe" ƒë∆∞·ª£c code React/Next.js ngay c·∫£ khi ch∆∞a r√†nh JavaScript l√† v√¨ t√≠nh **Declarative (M√¥ t·∫£)** c·ªßa n√≥:

> **Code React gi·ªëng nh∆∞ b·∫£n v·∫Ω k·ªπ thu·∫≠t:** Nh√¨n v√†o l√† th·∫•y c·∫•u tr√∫c nh√†, c·ª≠a, ph√≤ng ·ªëc (UI structure). M·ªçi th·ª© ƒë·ªÅu r√µ r√†ng, minh b·∫°ch.
> 
> **Code PHP ki·ªÉu c≈© gi·ªëng nh∆∞ m√™ cung:** B·∫°n th·∫•y c√°i c·ª≠a, nh∆∞ng kh√¥ng bi·∫øt m·ªü ra l√† ph√≤ng kh√°ch hay... r∆°i xu·ªëng h·∫ßm, v√¨ ƒëi·ªÅu ƒë√≥ ph·ª• thu·ªôc v√†o "ph√©p thu·∫≠t" ·∫©n gi·∫•u b√™n d∆∞·ªõi.

ƒê√¢y ch√≠nh l√† s·ª©c m·∫°nh c·ªßa **Explicit Programming (L·∫≠p tr√¨nh t∆∞·ªùng minh)** - n·ªÅn t·∫£ng c·ªßa React v√† c√°c framework hi·ªán ƒë·∫°i.

---

### 2. Hook `useEffect`: N∆°i tr√∫ ·∫©n c·ªßa Side Effects

`useEffect` l√† n∆°i React cho ph√©p b·∫°n th·ª±c hi·ªán c√°c Side Effects m·ªôt c√°ch an to√†n **SAU KHI** giao di·ªán ƒë√£ ƒë∆∞·ª£c v·∫Ω xong.

```javascript
useEffect(() => {
  // Code Side Effect ·ªü ƒë√¢y (Call API, DOM...)
}, [dependencies]); // M·∫£ng ph·ª• thu·ªôc
```

#### 2.1. Logic ho·∫°t ƒë·ªông

1. React Render Component (T√≠nh to√°n UI).
    
2. React V·∫Ω UI l√™n m√†n h√¨nh (Browser Paint).
    
3. **SAU ƒê√ì**, React m·ªõi ch·∫°y `useEffect`. -> _ƒêi·ªÅu n√†y gi√∫p giao di·ªán kh√¥ng b·ªã ch·∫∑n (block) b·ªüi c√°c t√°c v·ª• n·∫∑ng._
    

### 3. Dependency Array: C√°i phanh c·ªßa useEffect

Tham s·ªë th·ª© 2 c·ªßa `useEffect` (`[]`) quy·∫øt ƒë·ªãnh **khi n√†o** effect ƒë∆∞·ª£c ch·∫°y l·∫°i. ƒê√¢y l√† ph·∫ßn d·ªÖ g√¢y l·ªói nh·∫•t (Infinite Loop).

| **Dependency Array** | **√ù nghƒ©a** | **Khi n√†o ch·∫°y?** |
|---|---|---|
| **Kh√¥ng truy·ªÅn** | `useEffect(() => {})` | Ch·∫°y **M·ªñI L·∫¶N** render (Nguy hi·ªÉm, gi·ªëng code th·∫≥ng trong h√†m). |
| **M·∫£ng r·ªóng** | `useEffect(() => {}, [])` | Ch·∫°y **DUY NH·∫§T 1 L·∫¶N** sau khi mount (Gi·ªëng `componentDidMount`). D√πng ƒë·ªÉ g·ªçi API l·∫ßn ƒë·∫ßu. |
| **C√≥ bi·∫øn** | `useEffect(() => {}, [userId])` | Ch·∫°y l·∫ßn ƒë·∫ßu **V√Ä** ch·∫°y m·ªói khi `userId` thay ƒë·ªïi. |

### 4. Cleanup Function: D·ªçn d·∫πp chi·∫øn tr∆∞·ªùng

ƒê√¥i khi Effect ƒë·ªÉ l·∫°i "r√°c" (nh∆∞ timer ƒëang ch·∫°y, k·∫øt n·ªëi socket ƒëang m·ªü). N·∫øu Component b·ªã x√≥a kh·ªèi m√†n h√¨nh (Unmount) m√† kh√¥ng d·ªçn r√°c => **Memory Leak** (R√≤ r·ªâ b·ªô nh·ªõ).

ƒê·ªÉ d·ªçn d·∫πp, b·∫°n return m·ªôt h√†m t·ª´ trong `useEffect`.

```javascript
useEffect(() => {
  console.log("1. ƒêƒÉng k√Ω s·ª± ki·ªán Chat");
  const connection = createConnection();

  // Cleanup Function
  return () => {
    console.log("2. Ng·∫Øt k·∫øt n·ªëi Chat (D·ªçn d·∫πp)");
    connection.disconnect();
  };
}, [roomId]);
```

**Quy tr√¨nh:**

1. Ng∆∞·ªùi d√πng ƒë·ªïi ph√≤ng chat (roomId ƒë·ªïi).
    
2. React ch·∫°y h√†m Cleanup c·ªßa l·∫ßn tr∆∞·ªõc (Ng·∫Øt k·∫øt n·ªëi c≈©).
    
3. React ch·∫°y Effect m·ªõi (K·∫øt n·ªëi ph√≤ng m·ªõi).
    

### 5. B√†i t·∫≠p th·ª±c h√†nh (Module 3)

**B√†i to√°n:** ƒê·ªìng h·ªì ƒë·∫øm ng∆∞·ª£c v√† Ti√™u ƒë·ªÅ trang.

1. Hi·ªÉn th·ªã m·ªôt ƒë·ªìng h·ªì ƒë·∫øm ng∆∞·ª£c t·ª´ 10 v·ªÅ 0.
    
2. ƒê·ªïi ti√™u ƒë·ªÅ tab tr√¨nh duy·ªát (`document.title`) th√†nh s·ªë gi√¢y c√≤n l·∫°i.
    
3. Khi v·ªÅ 0 th√¨ d·ª´ng l·∫°i.
    

**G·ª£i √Ω gi·∫£i (Mental Model):**

- C·∫ßn `useEffect` ƒë·ªÉ thi·∫øt l·∫≠p `setInterval`.
    
- M·∫£ng dependency r·ªóng `[]` ƒë·ªÉ timer ch·ªâ ch·∫°y 1 l·∫ßn l√∫c ƒë·∫ßu? Hay c·∫ßn c√°ch kh√°c?
    
- Quan tr·ªçng: Ph·∫£i d·ªçn d·∫πp `clearInterval` khi component unmount ƒë·ªÉ tr√°nh timer ch·∫°y ng·∫ßm.
    

```jsx
function Countdown() {
  const [count, setCount] = useState(10);

  useEffect(() => {
    // Side Effect 1: ƒê·ªïi title
    document.title = `C√≤n l·∫°i: ${count}`;
  }, [count]); // Ch·∫°y l·∫°i m·ªói khi count ƒë·ªïi ƒë·ªÉ c·∫≠p nh·∫≠t title

  useEffect(() => {
    // Side Effect 2: Timer
    const timerId = setInterval(() => {
      setCount((prevCount) => {
         if (prevCount <= 0) {
             clearInterval(timerId); // D·ª´ng khi v·ªÅ 0
             return 0;
         }
         return prevCount - 1;
      });
    }, 1000);

    // Cleanup: C·ª±c k·ª≥ quan tr·ªçng!
    // N·∫øu user chuy·ªÉn trang kh√°c, timer ph·∫£i b·ªã h·ªßy
    return () => clearInterval(timerId);
  }, []); // Ch·ªâ set timer 1 l·∫ßn l√∫c mount

  return <h1>{count}</h1>;
}
```

## PH·∫¶N 5: T√ÄI LI·ªÜU CHI TI·∫æT - MODULE 4: KI·∫æN TR√öC V√Ä LU·ªíNG D·ªÆ LI·ªÜU (DATA FLOW)

Trong React, d·ªØ li·ªáu (State) ƒë∆∞·ª£c v√≠ nh∆∞ d√≤ng n∆∞·ªõc. N√≥ ch·ªâ ch·∫£y m·ªôt chi·ªÅu t·ª´ tr√™n xu·ªëng d∆∞·ªõi. Vi·ªác hi·ªÉu c√°ch ƒëi·ªÅu h∆∞·ªõng d√≤ng n∆∞·ªõc n√†y ch√≠nh l√† ngh·ªá thu·∫≠t t·ªï ch·ª©c Code.

### 1. Lifting State Up: ƒê∆∞a tr·∫°ng th√°i l√™n cao

ƒê√¢y l√† m·∫´u thi·∫øt k·∫ø (pattern) ph·ªï bi·∫øn nh·∫•t ƒë·ªÉ chia s·∫ª d·ªØ li·ªáu.

V·∫•n ƒë·ªÅ:

T∆∞·ªüng t∆∞·ª£ng b·∫°n c√≥ 2 component con:

1. `Input`: ƒê·ªÉ nh·∫≠p nhi·ªát ƒë·ªô.
    
2. `Display`: ƒê·ªÉ hi·ªÉn th·ªã n∆∞·ªõc c√≥ s√¥i hay kh√¥ng.
    

N·∫øu `Input` gi·ªØ state `temperature`, th√¨ `Display` l√†m sao bi·∫øt nhi·ªát ƒë·ªô l√† bao nhi√™u ƒë·ªÉ hi·ªÉn th·ªã? Hai anh em ngang h√†ng kh√¥ng th·ªÉ "n√≥i chuy·ªán" tr·ª±c ti·∫øp.

**Gi·∫£i ph√°p:**

- **B1:** X√≥a state ·ªü `Input`.
    
- **B2:** Chuy·ªÉn state ƒë√≥ l√™n component cha chung (`Calculator`).
    
- **B3:** Cha truy·ªÅn `state` xu·ªëng cho `Display` (qua props) v√† truy·ªÅn h√†m `setState` xu·ªëng cho `Input` (qua props).
    

> **Nguy√™n l√Ω:** "Single Source of Truth" (M·ªôt ngu·ªìn s·ª± th·∫≠t duy nh·∫•t). D·ªØ li·ªáu ch·ªâ n·∫±m ·ªü m·ªôt ch·ªó v√† ch·∫£y xu·ªëng c√°c n∆°i c·∫ßn d√πng.

**V√≠ d·ª• Code:**

```jsx
// 1. Child Component A: The Input
// It receives the current value and the function to update it via props.
const TemperatureInput = ({ temperature, onTemperatureChange }) => {
    return (
        <fieldset className="border-2 border-gray-300 dark:border-gray-600 rounded-lg p-4">
            <legend className="text-lg font-semibold px-2">Enter temperature in Celsius:</legend>
            <input
                value={temperature}
                onChange={(e) => onTemperatureChange(e.target.value)}
                type="number"
                className="w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-indigo-500 focus:border-transparent dark:bg-gray-700 dark:text-white"
            />
        </fieldset>
    );
};

// 2. Child Component B: The Display
// It receives the temperature via props to decide what to show.
const BoilingVerdict = ({ celsius }) => {
    if (celsius >= 100) {
        return <p className="text-green-600 font-bold text-xl mt-4">The water would boil. üíßüî•</p>;
    }
    return <p className="text-red-600 text-xl mt-4">The water would not boil. ‚ùÑÔ∏è</p>;
};

// 3. The Parent Component: Calculator
// This is where the state "lives" (The Single Source of Truth)
const LiftingStateUpExample = () => {
    // B2: State is initialized here, not in the Input
    const [temperature, setTemperature] = useState('');

    // The handler function that updates the state
    const handleChange = (newTemperature) => {
        setTemperature(newTemperature);
    };

    return (
        <div className="min-h-screen bg-gradient-to-br from-purple-50 to-pink-100 dark:from-gray-900 dark:to-gray-800 p-6 sm:p-8 md:p-12">
            <div className="max-w-3xl mx-auto w-full">
                {/* Back Button */}
                <Link
                    to="/"
                    className="inline-flex items-center text-indigo-600 dark:text-indigo-400 hover:text-indigo-800 dark:hover:text-indigo-300 mb-6 font-semibold"
                >
                    ‚Üê Back to Home
                </Link>

                {/* Main Card */}
                <div className="bg-white dark:bg-gray-800 p-8 border-2 border-gray-200 dark:border-gray-700 rounded-xl shadow-2xl">
                    <h1 className="text-3xl font-bold mb-2 text-gray-900 dark:text-white">
                        Lifting State Up Example
                    </h1>
                    <p className="text-gray-600 dark:text-gray-300 mb-6">
                        This example demonstrates how to share state between components by lifting it to their closest common ancestor.
                    </p>

                    {/* B3: Pass the function down to Input */}
                    <TemperatureInput
                        temperature={temperature}
                        onTemperatureChange={handleChange}
                    />

                    {/* B3: Pass the state down to Display */}
                    <BoilingVerdict
                        celsius={parseFloat(temperature)}
                    />

                    {/* Explanation Section */}
                    <div className="mt-8 p-4 bg-indigo-50 dark:bg-gray-700 rounded-lg">
                        <h3 className="font-bold text-lg mb-2 text-gray-900 dark:text-white">üí° Key Concept</h3>
                        <ul className="list-disc list-inside space-y-2 text-gray-700 dark:text-gray-300">
                            <li>The <code className="bg-gray-200 dark:bg-gray-600 px-2 py-1 rounded">temperature</code> state lives in the parent component (Single Source of Truth)</li>
                            <li>The input component receives both the value and the updater function via props</li>
                            <li>The verdict component receives the state to display the result</li>
                            <li>Both child components stay in sync because they share the same state</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    );
};

export default LiftingStateUpExample;
```

#### Gi·∫£i th√≠ch chi ti·∫øt: `value={temperature}` - Controlled Component

Trong v√≠ d·ª• tr√™n, c√≥ m·ªôt d√≤ng code c·ª±c k·ª≥ quan tr·ªçng m√† nhi·ªÅu ng∆∞·ªùi m·ªõi h·ªçc th∆∞·ªùng b·ªè qua:

```jsx
<input
    value={temperature}  // ‚Üê D√≤ng n√†y!
    onChange={(e) => onTemperatureChange(e.target.value)}
/>
```

**ƒêi·ªÅu g√¨ ƒëang x·∫£y ra?**

ƒêo·∫°n code n√†y nh·∫±m l√†m cho **gi√° tr·ªã nh·∫≠p v√†o kh√¥ng hi·ªÉn th·ªã tr·ª±c ti·∫øp**, m√† ph·∫£i tr·∫£i qua m·ªôt "h√†nh tr√¨nh v√≤ng quanh":

1. **Ng∆∞·ªùi d√πng g√µ s·ªë** v√†o √¥ input ‚Üí S·ª± ki·ªán `onChange` ƒë∆∞·ª£c k√≠ch ho·∫°t.
2. **Gi√° tr·ªã m·ªõi ƒëi l√™n cha** (qua h√†m `onTemperatureChange`).
3. **Cha c·∫≠p nh·∫≠t state** (`setTemperature`).
4. **React render l·∫°i component con**.
5. **Gi√° tr·ªã m·ªõi ƒëi xu·ªëng l·∫°i** (qua prop `temperature`).
6. **Cu·ªëi c√πng m·ªõi hi·ªÉn th·ªã** l√™n m√†n h√¨nh.

> **Mental Model:** Thay v√¨ √¥ input t·ª± qu·∫£n l√Ω gi√° tr·ªã c·ªßa ch√≠nh n√≥ (nh∆∞ HTML th√¥ng th∆∞·ªùng), React **chi·∫øm quy·ªÅn ki·ªÉm so√°t ho√†n to√†n** (Controlled Component).

---

#### So s√°nh: Server-side vs Client-side

ƒê√¢y l√† s·ª± kh√°c bi·ªát cƒÉn b·∫£n gi·ªØa ng√¥n ng·ªØ Server-side (nh∆∞ PHP) v√† Client-side (nh∆∞ React):

| **ƒê·∫∑c ƒëi·ªÉm** | **HTML Th√¥ng th∆∞·ªùng (PHP, Server-side)** | **React (Client-side)** |
| --- | --- | --- |
| **C√°ch ho·∫°t ƒë·ªông** | Tag `<input>` t·ª± qu·∫£n l√Ω gi√° tr·ªã c·ªßa n√≥. Gi√° tr·ªã nh·∫≠p v√†o l√† gi√° tr·ªã hi·ªÉn th·ªã. | React ki·ªÉm so√°t gi√° tr·ªã qua `value={state}`. Input ch·ªâ l√† "m√†n h√¨nh hi·ªÉn th·ªã". |
| **Khi n√†o d·ªØ li·ªáu ƒë∆∞·ª£c g·ª≠i?** | C·∫ßn b·∫•m n√∫t **Submit** ho·∫∑c nh·∫•n **Enter** m·ªõi push gi√° tr·ªã l√™n server. | **Real-time**: M·ªói l·∫ßn g√µ ph√≠m, gi√° tr·ªã ƒë√£ ƒë∆∞·ª£c c·∫≠p nh·∫≠t ngay l·∫≠p t·ª©c. |
| **V√≠ d·ª• (PHP)** | `<form method="POST"><input name="temp"/></form>`<br/>‚Üí Khi submit, `$_POST['temp']` m·ªõi nh·∫≠n ƒë∆∞·ª£c gi√° tr·ªã. | `<input value={temperature} onChange={...} />`<br/>‚Üí M·ªói ph√≠m g√µ, state `temperature` ƒë√£ thay ƒë·ªïi ngay. |
| **T√≠nh nƒÉng** | D·ªØ li·ªáu ch·ªâ c√≥ tr√™n server sau khi g·ª≠i form. | D·ªØ li·ªáu lu√¥n s·∫µn s√†ng trong JavaScript, c√≥ th·ªÉ validate ngay, hi·ªÉn th·ªã k·∫øt qu·∫£ t·ª©c th√¨. |

**V√≠ d·ª• c·ª• th·ªÉ:**

- **PHP (Server-side):**
  ```html
  <form method="POST">
    <input name="temperature" />
    <button type="submit">Ki·ªÉm tra</button>
  </form>
  ```
  B·∫°n nh·∫≠p s·ªë 100, nh∆∞ng ch·ªâ khi b·∫•m "Ki·ªÉm tra", trang web m·ªõi reload v√† PHP m·ªõi in ra "N∆∞·ªõc s·∫Ω s√¥i".

- **React (Client-side):**
  B·∫°n nh·∫≠p s·ªë 100, **ngay l·∫≠p t·ª©c** (kh√¥ng c·∫ßn b·∫•m g√¨), d√≤ng ch·ªØ "The water would boil üíßüî•" ƒë√£ hi·ªán ra b√™n d∆∞·ªõi.

---

#### T·∫°i sao ph·∫£i d√πng Controlled Component?

1. **ƒê·ªìng b·ªô h√≥a (Sync):** ƒê·∫£m b·∫£o gi√° tr·ªã hi·ªÉn th·ªã tr√™n UI lu√¥n kh·ªõp v·ªõi gi√° tr·ªã trong state. Kh√¥ng c√≥ tr∆∞·ªùng h·ª£p "state n√≥i 50 nh∆∞ng m√†n h√¨nh hi·ªán 60".

2. **D·ªÖ ki·ªÉm so√°t:** B·∫°n c√≥ th·ªÉ validate, format, ho·∫∑c ch·∫∑n input kh√¥ng h·ª£p l·ªá ngay khi ng∆∞·ªùi d√πng g√µ.
   ```jsx
   const handleChange = (newValue) => {
     // Ch·ªâ cho ph√©p s·ªë t·ª´ 0 ƒë·∫øn 200
     if (newValue >= 0 && newValue <= 200) {
       setTemperature(newValue);
     }
   };
   ```

3. **Single Source of Truth:** D·ªØ li·ªáu ch·ªâ s·ªëng ·ªü m·ªôt ch·ªó (state), t·∫•t c·∫£ component kh√°c ƒë·ªÅu nh√¨n v√†o ƒë√≥. Kh√¥ng c√≥ "nhi·ªÅu ngu·ªìn s·ª± th·∫≠t" g√¢y m√¢u thu·∫´n.

---

### 2. Context API: ƒê∆∞·ªùng h·∫ßm xuy√™n kh√¥ng

Khi ·ª©ng d·ª•ng qu√° l·ªõn, vi·ªác truy·ªÅn props qua 10 t·∫ßng (√îng c·ªë -> √îng -> Cha -> Con -> Ch√°u) ƒë∆∞·ª£c g·ªçi l√† **Prop Drilling** (Khoan th·ªßng props). N√≥ l√†m code c·ª±c k·ª≥ r·ªëi r·∫Øm.

**Gi·∫£i ph√°p:** S·ª≠ d·ª•ng Context ƒë·ªÉ t·∫°o m·ªôt "ƒë∆∞·ªùng h·∫ßm".

- **Provider (Ngu·ªìn ph√°t):** ƒê·∫∑t ·ªü t·∫ßng cao nh·∫•t, ch·ª©a d·ªØ li·ªáu (v√≠ d·ª•: Theme m√†u, User ƒëang ƒëƒÉng nh·∫≠p).
    
- **Consumer/useContext (N∆°i nh·∫≠n):** Component con ·ªü b·∫•t k·ª≥ t·∫ßng n√†o c≈©ng c√≥ th·ªÉ "h√∫t" d·ªØ li·ªáu tr·ª±c ti·∫øp t·ª´ ƒë∆∞·ªùng h·∫ßm m√† kh√¥ng c·∫ßn th√¥ng qua cha.
    

```jsx
// 1. T·∫°o Context
const ThemeContext = createContext('light');

// 2. Cung c·∫•p d·ªØ li·ªáu (·ªû t·∫ßng tr√™n c√πng)
<ThemeContext.Provider value="dark">
   <App />
</ThemeContext.Provider>

// 3. S·ª≠ d·ª•ng d·ªØ li·ªáu (·ªû t·∫ßng s√¢u nh·∫•t)
const theme = useContext(ThemeContext); // Nh·∫≠n ƒë∆∞·ª£c "dark" ngay l·∫≠p t·ª©c
```

### 3. Custom Hooks: V≈© kh√≠ c·ªßa chuy√™n gia

ƒê·∫øn l√∫c n√†y, b·∫°n th·∫•y Component b·∫Øt ƒë·∫ßu ph√¨nh to v√¨ ch·ª©a qu√° nhi·ªÅu logic (State, Effect, Handler...). L√†m sao ƒë·ªÉ t√°i s·ª≠ d·ª•ng logic n√†y cho component kh√°c?

Gi·∫£i ph√°p: Custom Hooks.

Custom Hook th·ª±c ch·∫•t l√† m·ªôt h√†m Javascript b√¨nh th∆∞·ªùng nh∆∞ng c√≥ th·ªÉ g·ªçi c√°c Hook kh√°c (useState, useEffect).

**Quy ∆∞·ªõc:** T√™n h√†m b·∫Øt bu·ªôc b·∫Øt ƒë·∫ßu b·∫±ng `use...` (v√≠ d·ª•: `useWindowSize`, `useFetch`, `useAuth`).

**V√≠ d·ª•:** T√°ch logic ƒë·ªìng h·ªì ƒë·∫øm ng∆∞·ª£c ·ªü Module 3 ra ƒë·ªÉ t√°i s·ª≠ d·ª•ng.

```javascript
// File: useCountdown.js
function useCountdown(startValue) {
  const [count, setCount] = useState(startValue);

  useEffect(() => {
    const id = setInterval(() => {
       setCount(c => c > 0 ? c - 1 : 0);
    }, 1000);
    return () => clearInterval(id);
  }, []);

  return count; // Tr·∫£ v·ªÅ d·ªØ li·ªáu c·∫ßn thi·∫øt
}

// File: App.js (Component gi·ªù ƒë√¢y c·ª±c g·ªçn)
function App() {
  const count = useCountdown(10); // G·ªçi 1 d√≤ng l√† xong
  return <h1>{count}</h1>;
}
```

### 4. B√†i t·∫≠p th·ª±c h√†nh (Module 4)

**B√†i to√°n:** Chuy·ªÉn ƒë·ªïi ti·ªÅn t·ªá (Currency Converter).

1. C√≥ 2 √¥ input: USD v√† VND.
    
2. Nh·∫≠p v√†o √¥ USD -> √î VND t·ª± nh·∫£y s·ªë (nh√¢n 24000).
    
3. Nh·∫≠p v√†o √¥ VND -> √î USD t·ª± nh·∫£y s·ªë (chia 24000).
    

**G·ª£i √Ω gi·∫£i (Lifting State Up):**

- ƒê·ª´ng ƒë·ªÉ m·ªói √¥ input t·ª± gi·ªØ state c·ªßa m√¨nh.
    
- H√£y ƒë·ªÉ component cha gi·ªØ 2 state: `amount` (s·ªë ti·ªÅn) v√† `currency` (ƒë∆°n v·ªã v·ª´a nh·∫≠p).
    
- T√≠nh to√°n gi√° tr·ªã quy ƒë·ªïi ngay trong l√∫c render (Derived State), kh√¥ng c·∫ßn l∆∞u 2 state ti·ªÅn ri√™ng bi·ªát.
    

## PH·∫¶N 6: T√ÄI LI·ªÜU CHI TI·∫æT - MODULE 5: HI·ªÜU NƒÇNG V√Ä H·ªÜ SINH TH√ÅI (ADVANCED)

Khi ·ª©ng d·ª•ng ƒë√£ ch·∫°y ƒë√∫ng, b∆∞·ªõc ti·∫øp theo l√† ch·∫°y **nhanh** v√† **m∆∞·ª£t**.

### 1. Performance: Ngh·ªá thu·∫≠t c·ªßa vi·ªác "L∆∞·ªùi bi·∫øng"

React m·∫∑c ƒë·ªãnh r·∫•t "chƒÉm ch·ªâ": Khi cha render, t·∫•t c·∫£ con c√°i ƒë·ªÅu render l·∫°i theo, d√π d·ªØ li·ªáu c·ªßa con kh√¥ng ƒë·ªïi. ƒêi·ªÅu n√†y an to√†n nh∆∞ng t·ªën k√©m.

#### 1.1. React.memo: Chi·∫øc khi√™n b·∫£o v·ªá

D√πng ƒë·ªÉ bao b·ªçc Component con. N√≥ s·∫Ω ch·∫∑n l·∫°i vi·ªác render n·∫øu `props` ƒë·∫ßu v√†o kh√¥ng thay ƒë·ªïi.

```jsx
const Child = React.memo(({ name }) => {
  console.log("Child render"); // Ch·ªâ log khi 'name' thay ƒë·ªïi
  return <div>{name}</div>;
});
```

#### 1.2. useMemo & useCallback: B·ªô nh·ªõ ƒë·ªám (Cache)

- **`useMemo`:** Cache **gi√° tr·ªã** t√≠nh to√°n (tr√°nh t√≠nh l·∫°i 1 + 1 = 2 m·ªói l·∫ßn render).
    
- **`useCallback`:** Cache **h√†m** (tr√°nh t·∫°o ra h√†m m·ªõi m·ªói l·∫ßn render, gi√∫p `React.memo` ·ªü con ho·∫°t ƒë·ªông ƒë√∫ng).
    

> **L·ªùi khuy√™n:** ƒê·ª´ng t·ªëi ∆∞u s·ªõm (Premature Optimization). Ch·ªâ d√πng khi th·∫•y ch·∫≠m ho·∫∑c component qu√° n·∫∑ng.

### 2. Forms: Giao ti·∫øp v·ªõi ng∆∞·ªùi d√πng

C√≥ 2 c√°ch ƒë·ªÉ x·ª≠ l√Ω Form trong React:

#### 2.1. Controlled Component (Khuy√™n d√πng)

React n·∫Øm quy·ªÅn ki·ªÉm so√°t ho√†n to√†n. D·ªØ li·ªáu trong input lu√¥n ƒë·ªìng b·ªô v·ªõi State.

```jsx
const [value, setValue] = useState("");
// Input b·ªã kh√≥a v√†o state value
<input value={value} onChange={e => setValue(e.target.value)} />
```

#### 2.2. Uncontrolled Component

D√πng `useRef` ƒë·ªÉ "ch·ªçc" v√†o DOM l·∫•y d·ªØ li·ªáu khi c·∫ßn (gi·ªëng HTML truy·ªÅn th·ªëng). D√πng cho input file ho·∫∑c form qu√° ƒë∆°n gi·∫£n.

### 3. Routing: ·∫¢o thu·∫≠t chuy·ªÉn trang (SPA)

Trong React, ch√∫ng ta x√¢y d·ª±ng **Single Page Application (SPA)**.

- **Web th∆∞·ªùng:** B·∫•m link -> Tr√¨nh duy·ªát t·∫£i trang m·ªõi tr·∫Øng b√≥c -> T·∫£i l·∫°i t·ª´ ƒë·∫ßu.
    
- **React Router:** B·∫•m link -> React ch·ªâ **thay ƒë·ªïi Component** ·ªü gi·ªØa m√†n h√¨nh. Header/Footer gi·ªØ nguy√™n. Kh√¥ng t·∫£i l·∫°i trang.
    

```jsx
import { Routes, Route, Link } from "react-router-dom";

// ƒê·ªãnh nghƒ©a c√°c tuy·∫øn ƒë∆∞·ªùng
<Routes>
  <Route path="/" element={<Home />} />
  <Route path="/about" element={<About />} />
</Routes>

// S·ª≠ d·ª•ng Link thay cho th·∫ª <a>
<Link to="/about">V·ªÅ ch√∫ng t√¥i</Link>
```

## PH·∫¶N K·∫æT: T·ª™ H·ªåC GI·∫¢ ƒê·∫æN K·ª∏ S∆Ø

Ch√∫c m·ª´ng b·∫°n! Ch√∫ng ta ƒë√£ ƒëi t·ª´ nh·ªØng vi√™n g·∫°ch c∆° b·∫£n nh·∫•t (Element Object) ƒë·∫øn ki·∫øn tr√∫c m·ªôt ·ª©ng d·ª•ng ho√†n ch·ªânh.

**T√≥m t·∫Øt h√†nh tr√¨nh:**

1. **Level 1:** Hi·ªÉu Element l√† Object b·∫•t bi·∫øn.
    
2. **Level 2:** Hi·ªÉu Component l√† H√†m, State l√† b·ªô nh·ªõ.
    
3. **Level 3:** Hi·ªÉu Side Effect v√† c√°ch ly n√≥ b·∫±ng useEffect.
    
4. **Level 4:** Bi·∫øt t·ªï ch·ª©c d·ªØ li·ªáu (Lifting State, Context) thay v√¨ code l·ªôn x·ªôn.
    
5. **Level 5:** T·ªëi ∆∞u h√≥a v√† m·ªü r·ªông h·ªá sinh th√°i.
    

B∆∞·ªõc ti·∫øp theo:

ƒê·ª´ng ch·ªâ ƒë·ªçc t√†i li·ªáu n√†y. H√£y code ngay l·∫≠p t·ª©c. H√£y th·ª≠ clone l·∫°i giao di·ªán Facebook, Instagram hay Trello b·∫±ng t∆∞ duy n√†y. Sai l·∫ßm s·∫Ω l√† ng∆∞·ªùi th·∫ßy t·ªët nh·∫•t.

**"Code is read more often than it is written."** - H√£y vi·∫øt code sao cho ƒë·ªìng nghi·ªáp (v√† ch√≠nh b·∫°n trong t∆∞∆°ng lai) ƒë·ªçc v√†o l√† hi·ªÉu ngay c·∫•u tr√∫c Object b√™n d∆∞·ªõi.

_H·∫øt t√†i li·ªáu._